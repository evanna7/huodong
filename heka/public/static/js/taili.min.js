var imgPath="./static/images/",sizeObj=pixiSize();function deg(t){return t/180*Math.PI}var fullpage,diffDistance=90,august={0:{logo:{img:imgPath+"0/logo.png",pos:{x:0,y:0},scale:.8},douwa:{img:imgPath+"0/douwa.png",pos:{x:322,y:512-diffDistance},speed:1500,alpha:0,move:{x:322,y:512,alpha:1}},oulian:{img:imgPath+"0/ou-lian.png",pos:{x:424+diffDistance,y:574-diffDistance},speed:1500,alpha:1,move:{x:424,y:574,alpha:1}},dragon:{img:imgPath+"0/dragon.png",pos:{x:458+diffDistance,y:738+diffDistance},speed:1500,alpha:0,move:{x:458,y:738,alpha:1}},yaya:{img:imgPath+"0/yaya.png",pos:{x:171-diffDistance,y:738+diffDistance},speed:1500,alpha:0,move:{x:171,y:738,alpha:1}},bomi:{img:imgPath+"0/bomi.png",pos:{x:174-diffDistance,y:575-diffDistance},alpha:0,move:{x:174,y:575,alpha:1}},blueLight:{img:imgPath+"0/blue-light.png",pos:{x:75,y:431},alpha:.5,speed:1500,move:{alpha:1}},yellowLight:{img:imgPath+"0/yellow-light.png",pos:{x:144,y:632},alpha:.2,speed:1800,move:{alpha:[1,.2]}},leaf:{img:imgPath+"0/leaf.png",pos:{x:48,y:628}},leafFront:{img:imgPath+"0/leaf-front.png",pos:{x:13,y:626}},booklight:{img:imgPath+"0/book-light.png",pos:{x:309,y:701},speed:1500,alpha:0,move:{alpha:1}},bookdark:{img:imgPath+"0/book-dark.png",pos:{x:309,y:701}},star1:{img:imgPath+"0/star.png",pos:{x:358,y:271,rotate:deg(0)},speed:2e3,rotateAnchor:[.5,.5],move:{rotate:deg(360)}},star2:{pos:{x:414,y:523,rotate:deg(0)},speed:2400,rotateAnchor:[.5,.5],move:{rotate:deg(360)}},y1:{img:imgPath+"0/y1.png"},y2:{img:imgPath+"0/y2.png"},y3:{img:imgPath+"0/y3.png"},y4:{img:imgPath+"0/y4.png"},y5:{img:imgPath+"0/y5.png"}},1:{douwa:{img:imgPath+"1/douwa.png",alpha:0,position:{x:332,y:520},move:{speed:400,alpha:1,x:332,y:548,delay:200}},oulian:{img:imgPath+"1/oulian.png",alpha:0,position:{x:450,y:560},move:{speed:400,alpha:1,delay:200,x:439,y:578}},yaya:{img:imgPath+"1/yaya.png",alpha:0,position:{x:200,y:760},move:{speed:400,delay:200,alpha:1,x:210,y:746}},zhuaigen:{img:imgPath+"1/zhuaigen.png",alpha:0,position:{x:480,y:760},move:{speed:400,delay:200,alpha:1,x:471,y:750}},bomi:{img:imgPath+"1/bomi.png",alpha:0,position:{x:150,y:570},move:{speed:400,alpha:1,x:160,y:580,delay:200}},pig:{img:imgPath+"1/pig.png",scal:.3,alpha:0,position:{x:200,y:750},move:{up:{speed:2500,y:11,alpha:1},updown:{speed:4e3,y:[50,11]}}},green:{img:imgPath+"1/green.png",rotation:40*Math.PI/180,scal:.4,alpha:0,position:{x:sizeObj.rootWidth/2-141,y:680},move:{delay:1200,scal:1,speed:2e3,x:-150,y:50,rotation:1*-Math.PI/20},back:{rotation:1*Math.PI/10,scal:.7,alpha:0,position:{x:sizeObj.rootWidth/2-70.5,y:650},move:{delay:1e3,scal:1,speed:2600,x:-50,y:-137,rotation:0}}},yellow:{img:imgPath+"1/yellow.png",rotation:35*Math.PI/180,scal:.4,alpha:0,position:{x:sizeObj.rootWidth/2-100,y:700},move:{delay:1e3,scal:.8,speed:1200,x:-200,y:180,rotation:20*-Math.PI/180},back:{rotation:1*Math.PI/10,scal:.7,alpha:0,position:{x:sizeObj.rootWidth/2,y:600},move:{delay:1e3,scal:1,speed:2500,x:50,y:-201,rotation:0}}},yellow2:{img:imgPath+"1/yellow_2.png",rotation:0,scal:.3,alpha:0,position:{x:sizeObj.rootWidth/2-50,y:580},move:{delay:1400,scal:1,speed:2e3,x:40,y:-220,rotation:1*-Math.PI/8},back:{rotation:1*Math.PI/16,scal:.5,alpha:0,position:{x:sizeObj.rootWidth/2,y:580},move:{delay:1e3,scal:1,speed:2e3,x:sizeObj.rootWidth/2,y:-220,rotation:1*Math.PI/16}}},yellow3:{img:imgPath+"1/yellow3.png",rotation:1*Math.PI/4,scal:.8,alpha:0,position:{x:sizeObj.rootWidth/2,y:700},move:{delay:600,scal:1,speed:3e3,x:100,y:-220,rotation:0}},red:{img:imgPath+"1/red.png",rotation:1*Math.PI/6,scal:.6,alpha:0,position:{x:sizeObj.rootWidth/2-100,y:600},move:{delay:800,scal:1,speed:1500,x:-150,y:0,rotation:0},back:{rotation:1*Math.PI/4,scal:.6,alpha:0,position:{x:sizeObj.rootWidth/2,y:600},move:{delay:800,scal:1,speed:1800,x:sizeObj.rootWidth/2-200,y:-200,rotation:1*Math.PI/7}}},green2:{img:imgPath+"1/green2.png",rotation:60*Math.PI/180,scal:.3,alpha:0,position:{x:sizeObj.rootWidth/2-90,y:700},move:{delay:600,scal:1,speed:3e3,x:-200,y:-220,rotation:1*Math.PI/10},back:{rotation:1*Math.PI/3,scal:.6,alpha:0,position:{x:sizeObj.rootWidth/2,y:700},move:{delay:600,scal:1,speed:2500,x:sizeObj.rootWidth/2,y:-220,rotation:1*Math.PI/3}}},red_r_1:{img:imgPath+"1/red_r_1.png",rotation:1*Math.PI/20,scal:.4,alpha:0,dir:"rt",position:{x:sizeObj.rootWidth/2,y:700},move:{delay:600,scal:1,speed:3e3,x:sizeObj.rootWidth,y:-250,rotation:1*Math.PI/10},back:{rotation:0,scal:.4,alpha:0,dir:"rt",position:{x:sizeObj.rootWidth/2,y:700},move:{delay:600,scal:.7,speed:2500,x:sizeObj.rootWidth/2+150,y:-250,rotation:0}}},yellow_r_1:{img:imgPath+"1/yellow_r_1.png",rotation:0,scal:.7,alpha:0,dir:"rt",position:{x:sizeObj.rootWidth/2,y:740},move:{delay:800,scal:1,speed:3e3,x:sizeObj.rootWidth,y:-91,rotation:1*Math.PI/20},back:{scal:.7,rotation:1*-Math.PI/8,position:{x:sizeObj.rootWidth/2-50,y:750},move:{delay:600,scal:1,speed:3e3,rotation:1*-Math.PI/10,x:sizeObj.rootWidth/2+100,y:-91}}},green_r_1:{img:imgPath+"1/green_r_1.png",rotation:40*-Math.PI/180,scal:.3,alpha:0,dir:"rt",position:{x:sizeObj.rootWidth/2,y:700},move:{delay:600,scal:1,speed:2e3,x:sizeObj.rootWidth+100,y:200,rotation:0},back:{scal:.7,rotation:1*-Math.PI/6,position:{x:sizeObj.rootWidth/2-20,y:700},move:{delay:900,scal:1,speed:3e3,rotation:1*-Math.PI/8,x:sizeObj.rootWidth-200,y:-120}}},green_r_2:{img:imgPath+"1/green_r_2.png",rotation:70*-Math.PI/180,scal:.3,alpha:0,dir:"rt",position:{x:sizeObj.rootWidth/2+50,y:730},move:{delay:600,scal:1,speed:3e3,x:sizeObj.rootWidth,y:-100,rotation:1*-Math.PI/8},back:{scal:.7,rotation:1*-Math.PI/8,position:{x:sizeObj.rootWidth/2,y:750},move:{delay:600,scal:1,speed:3e3,rotation:1*-Math.PI/10,x:sizeObj.rootWidth,y:-91}}},book_dark:{img:imgPath+"1/book_dark.png",alpha:0,position:{x:298,y:708},move:{alpha:1,speed:1e3}},book_light:{img:imgPath+"1/book_light.png",alpha:0,position:{x:298,y:708},move:{alpha:[0,1,0],speed:2e3},fade:{alpha:[.4,1],speed:3800}},star:{img:imgPath+"1/star.png",rotation:0,alpha:0,count:3,scal:[1,1.4,1.8],position:[{x:sizeObj.rootWidth-39-38,y:298},{x:70,y:sizeObj.rootHeight/2-100},{x:sizeObj.rootWidth-100,y:sizeObj.rootHeight-200}],move:{alpha:1,rotation:[2*Math.PI,2*-Math.PI,2*Math.PI],speed:[7e3,5e3,9e3]}},grass:{img:imgPath+"1/bg_grass.png",alpha:.2,position:{x:0,y:320}},starBg:{img:imgPath+"1/bg_star.png",position:{x:0,y:0}},light:{img:imgPath+"1/light.png",alpha:0,position:{x:90,y:320},move:{alpha:1,speed:1e3},fade:{alpha:[.4,1],speed:3800}},light_book:{alpha:0,img:imgPath+"1/light_book.png",position:{x:126,y:600},move:{alpha:1,speed:1e3},fade:{alpha:[.4,1],speed:3800}}},3:{pig:{img:imgPath+"3/pig.png",alpha:0,position:{x:sizeObj.rootWidth-74-684,y:63},move:{alpha:1,speed:800},bounce:{speed:2e3,y:[-50]}},shadow:{img:imgPath+"3/shadow.png",alpha:0,position:{x:17,y:-131},move:{alpha:0,speed:800}},zhuaigen:{img:imgPath+"3/zhuaigen.png",alpha:0,position:{x:15,y:178},move:{alpha:1,speed:800,delay:500,bounce:{speed:1e3,y:[150,178,165,178]}}},douwa_full:{img:imgPath+"3/douwa_full.png",alpha:0,position:{x:225,y:-31},move:{alpha:1,speed:800,delay:500}},douwa:{img:imgPath+"3/douwa.png",alpha:1,position:{x:226,y:-21}},douwa_hand:{img:imgPath+"3/douwa_hand.png",alpha:1,position:{x:266,y:-32},swag:{speed:2500,anchor:{x:4/56,y:1},rotation:[10*-Math.PI/180,0,10*Math.PI/180,0]}},bomi:{img:imgPath+"3/bomi.png",alpha:0,position:{x:295,y:43},move:{alpha:1,speed:800,delay:500}},bomi_hand:{img:imgPath+"3/bomi_hand.png",alpha:0,position:{x:308,y:87},move:{alpha:1,speed:800,delay:500},swag:{anchor:{x:34/49,y:0}}},oulian_full:{img:imgPath+"3/oulian_full.png",alpha:0,position:{x:360,y:-42},move:{alpha:1,speed:800,delay:500}},oulian:{img:imgPath+"3/oulian.png",alpha:1,position:{x:360,y:-37},move:{alpha:1,speed:800,delay:500}},oulian_hand:{img:imgPath+"3/oulian_hand.png",alpha:1,position:{x:430,y:-43},move:{alpha:1,speed:300,delay:800},swag:{speed:2500,anchor:{x:18/56,y:1},rotation:[20*-Math.PI/180,0,20*Math.PI/180,0]}},yaya:{img:imgPath+"3/yaya.png",alpha:0,position:{x:163,y:56},move:{alpha:1,speed:300,delay:800}},xingqiu:{img:imgPath+"3/xingqiu.png",alpha:0,position:{x:377,y:223},move:{alpha:1,speed:300,delay:900},swag:{anchor:{x:.5,y:.5},speed:800,rotation:[30*Math.PI/180,0]}},x1:{alpha:0,img:imgPath+"3/x1.png",position:{x:619,y:807},move:{speed:1e3,alpha:1}},x2:{alpha:0,img:imgPath+"3/x2.png",position:{x:-130,y:1161},move:{alpha:1}},x3:{alpha:0,img:imgPath+"3/x3.png",position:{x:42,y:48},move:{alpha:1}},bg:{img:imgPath+"3/bg.png",position:{x:74,y:427}}},4:{umbrella:{img:imgPath+"4/umbrella.png",position:{x:174,y:316},move:{alpha:1,speed:1e3}},cartoon:{img:imgPath+"4/cartoon.png",clip:{cartoon:{x:325,y:162,width:323,height:163,pos:{x:0,y:366}},pig:{x:0,y:0,width:325,height:325,pos:{x:320,y:508}},star_hl:{alpha:0,x:330,y:0,width:45,height:47,pos:{x:145,y:467},move:{alpha:1,speed:2500,position:{x:145,y:467}}},star:{alpha:0,x:392,y:0,width:45,height:47,pos:{x:145,y:467},move:{alpha:1,speed:500,position:{x:145,y:467}}},light1:{alpha:0,x:437,y:0,width:174,height:160,pos:{x:80,y:400},move:{alpha:1,speed:2e3,position:{x:78,y:400}}},light2:{alpha:0,x:648,y:0,width:249,height:319,pos:{x:56,y:245},move:{alpha:1,pos:{x:79,y:52}}}}},xingqiu:{img:imgPath+"4/xingqiu.png",clip:{x1:{width:70,height:45,point:{x:34,y:45},pos:{x:126,y:0}},x2:{x:71,y:0,width:71,height:45,point:{x:34,y:45},pos:{x:126,y:0}},x3:{x:142,y:0,width:71,height:45,point:{x:34,y:45},pos:{x:126,y:0}},x4:{x:212,y:0,width:71,height:45,point:{x:34,y:45},pos:{x:126,y:0}}}},ground:{img:imgPath+"4/ground.png",position:{x:140,y:782}}},8:{x1:{img:imgPath+"x1.png",position:{x:360,y:0,rotate:[30/180*Math.PI]},speed:2500,move:{rotate:[-30/180*Math.PI,30/180*Math.PI]}},x2:{img:imgPath+"x2.png",position:{x:460,y:0},move:{rotate:[-20/180*Math.PI,20/180*Math.PI]}},x3:{img:imgPath+"x3.png",position:{x:517,y:0,rotate:20/180*Math.PI},speed:2600,move:{rotate:[-20/180*Math.PI,20/180*Math.PI]}},x4:{img:imgPath+"x4.png",position:{x:20,y:91},move:{rotate:[-2*Math.PI]}},x5:{img:imgPath+"x5.png",position:{x:135,y:781},move:{rotate:[2*Math.PI]}},x6:{img:imgPath+"x6.png",position:{x:650,y:1330},move:{rotate:[40/180*Math.PI,10/180*Math.PI]}},x7:{img:imgPath+"x7.png",position:{x:473,y:890},move:{y:[990,890]}},coaster:{img:imgPath+"coaster_line.png",position:{x:0,y:340}}},6:{bg:{img:imgPath+"6/bg.jpg",pos:{x:0,y:0}},feiChe:{img:imgPath+"6/fei-che.png",pos:{x:0,y:205}},muMa:{img:imgPath+"6/mu-ma.png",pos:{x:180,y:293}},chengBao:{img:imgPath+"6/cheng-bao.png",pos:{x:310,y:92}},caidaiFooter:{img:imgPath+"6/cai-dai-footer.png",pos:{x:0,y:1263}},caiDai:{img:imgPath+"6/cai-dai.png",pos:{x:0,y:363}},star1:{img:imgPath+"6/star1.png",pos:{x:255,y:450},speed:2e3,scale:1,move:{scale:[1,.5]}},douBo:{img:imgPath+"6/dou-bo.png",pos:{x:290,y:492}},oulian:{img:imgPath+"6/ou-lian.png",pos:{x:230,y:543,rotate:deg(-.7)},rotateAnchor:[.53,.893],speed:2e3,move:{rotate:[deg(11),deg(-.7)]}},yaya:{img:imgPath+"6/yaya.png",pos:{x:225,y:630,rotate:deg(12)},rotateAnchor:[.6796,.6415],speed:2e3,move:{rotate:[deg(-6),deg(12)]}},pig:{img:imgPath+"6/pig.png",pos:{x:249,y:559,rotate:deg(10)},rotateAnchor:[.5371,1],speed:3e3,move:{rotate:[deg(-6),deg(10)]}},sg1:{img:imgPath+"6/sg1.png",pos:{x:400,y:532}},sg2:{img:imgPath+"6/sg2.png",pos:{x:208,y:671}},xingyun:{img:imgPath+"6/xing-yun.png",pos:{x:249,y:445},alpha:.2,speed:2e3,move:{alpha:[1,.2]}},zhijia:{img:imgPath+"6/zhijia.png",pos:{x:165,y:224}},ferrisWheel:{img:imgPath+"6/ferrisWheel.png",pos:{x:104,y:143,rotate:deg(0)},speed:1e4,move:{rotate:[deg(360)]}},basket1:{img:imgPath+"6/basket1.png",pos:{x:82,y:-17,rotate:deg(0)},speed:1e4,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket2:{img:imgPath+"6/basket2.png",pos:{x:169,y:38,rotate:deg(0)},speed:1e4,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket3:{img:imgPath+"6/basket3.png",pos:{x:167,y:116,rotate:deg(0)},speed:1e4,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket4:{img:imgPath+"6/basket4.png",pos:{x:83,y:168,rotate:deg(0)},speed:1e4,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket5:{img:imgPath+"6/basket5.png",pos:{x:-4,y:118,rotate:deg(0)},speed:1e4,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket6:{img:imgPath+"6/basket6.png",pos:{x:-6,y:34,rotate:deg(0)},speed:1e4,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}}},7:{bg:{img:imgPath+"july/bg.jpg"},start:{img:imgPath+"july/start.png",position:{x:-30+sizeObj.rootX,y:780},move:{x:60,y:780}},startBg2:{img:imgPath+"july/start-bg2.png",position:{x:86,y:241}},startBg:{img:imgPath+"july/start-bg.png",position:{x:124,y:250}},oulianActor:{img:imgPath+"july/oulianActor.png",position:{x:330,y:-100,rotate:-10/180*Math.PI},rotateAnchor:[.436,.0133],move:{x:[320,330],y:[-120,-100],rotate:[80/180*Math.PI,-10/180*Math.PI],speed:4e3}},douwaActor:{img:imgPath+"july/douwaActor.png",position:{x:131,y:-90,rotate:-10/180*Math.PI},rotateAnchor:[.2742,.0084],move:{x:[90,131],y:[-100,-90],rotate:[60/180*Math.PI,-10/180*Math.PI],speed:3500}},yayaActor:{img:imgPath+"july/yayaActor.png",position:{x:100,y:-50,rotate:-10/180*Math.PI},rotateAnchor:[.6448,.008],move:{x:[-20,100],y:-50,rotate:[60/180*Math.PI,-10/180*Math.PI],speed:3250}},pigActor:{img:imgPath+"july/pigActor.png",position:{x:482,y:0,rotate:-10/180*Math.PI},rotateAnchor:[.1719,.0062],move:{x:[422,480],y:[-10,0],rotate:[60/180*Math.PI,-10/180*Math.PI],speed:2600}},bomiActor:{img:imgPath+"july/bomiActor.png",position:{x:359,y:-300,rotate:0},move:{x:[280,359],y:[-320,-300],rotate:[55/180*Math.PI,0],speed:3260}}},2:{star:{img:imgPath+"february/xingxing.png",pos:{x:126,y:744}},startHighlight:{img:imgPath+"february/xing-light.png",pos:{x:80,y:691,alpha:1},speed:5e3,move:{alpha:[.9,.7,.5,.7,.9,1]}},clustersStart:{img:imgPath+"february/star.png",pos:{x:0,y:0}},starHeart:{img:imgPath+"february/xing-heart.png",pos:{x:646,y:441},speed:2e3,move:{y:[411,441]}},star2:{img:imgPath+"february/xing-qiu2.png",pos:{x:750+sizeObj.rootX,y:247},move:{x:670+sizeObj.rootX}},pigTail:{img:imgPath+"february/pig-tail.png",pos:{x:285,y:530,rotate:-.1*Math.PI,rotateAnchor:[.5,0]},speed:2600,move:{rotate:[.1*Math.PI,-.1*Math.PI]}},oulian:{img:imgPath+"february/oulian.png",pos:{x:0,y:355,rotate:10/180*Math.PI,rotateAnchor:[1,1]},speed:2e3,move:{rotate:[-35/180*Math.PI,10/180*Math.PI]}},bigPig:{img:imgPath+"february/big-pig.png",pos:{x:94,y:0}},trackGreen:{img:imgPath+"february/gui-dao-lv.png",pos:{x:47,y:29,alpha:0},move:{alpha:1}},trackRed:{img:imgPath+"february/track-red.png",pos:{x:-61,y:11,alpha:0},move:{alpha:1}},trackYellow:{img:imgPath+"february/track-yellow.png",pos:{x:-154,y:0,alpha:0},move:{alpha:1}},trackBlue:{img:imgPath+"february/track-blue.png",pos:{x:-280,y:0,alpha:0},move:{alpha:1}},trackYellowBig:{img:imgPath+"february/track-yellow-big.png",pos:{x:-429,y:0,alpha:0},move:{alpha:1}},starYellow:{img:imgPath+"february/star-yellow.png",pos:{x:31,y:185,alpha:0},move:{alpha:1}},starYellowHight:{pos:{x:-17,y:134,alpha:0},speed:5e3,move:{alpha:[.9,.7,.5,.7,.9,1]}},starBlue:{img:imgPath+"february/star-blue.png",pos:{x:140,y:363,alpha:0},move:{alpha:1}}},5:{x1:{img:imgPath+"5/x1.png",pos:{x:100,y:0,rotate:deg(30)},speed:2500,rotateAnchor:[.734375,.0126],move:{rotate:[deg(-90),deg(30)]}},x2:{img:imgPath+"5/x2.png",pos:{x:217,y:2,rotate:deg(30)},speed:2660,rotateAnchor:[.496,.0284],move:{rotate:[deg(-90),deg(30)]}},x3:{img:imgPath+"5/x3.png",pos:{x:257,y:2,rotate:deg(10)},speed:2580,rotateAnchor:[.7833,.0071],move:{rotate:[deg(-50),deg(10)]}},x4:{img:imgPath+"5/x4.png",pos:{x:485,y:-1,rotate:deg(15)},speed:3380,rotateAnchor:[.6865,.0114],move:{rotate:[deg(-50),deg(10)]}},hailang:{img:imgPath+"5/hai-lang.png",pos:{x:0,y:585}},flyPig:{img:imgPath+"5/flypig.png",pos:{x:500,y:105},speed:2e3,move:{y:[70,105]}},douwa:{img:imgPath+"5/douwa.png",pos:{x:186,y:443,alpha:0},speed:1e3,move:{alpha:1}},bomi:{img:imgPath+"5/bomi.png",pos:{x:287,y:461,alpha:0},speed:1e3,move:{alpha:1}},yaya:{img:imgPath+"5/yaya.png",pos:{x:369,y:531,alpha:0},speed:1e3,move:{alpha:1}},oulian:{img:imgPath+"5/oulian.png",pos:{x:446,y:458,alpha:0},speed:1e3,move:{alpha:1}},zhuaigen:{img:imgPath+"5/zhuai-gen.png",pos:{x:612,y:514,alpha:0},speed:1e3,move:{alpha:1}},star:{img:imgPath+"5/star.png",pos:{x:84,y:395}},starlight:{img:imgPath+"5/starlight.png",pos:{x:-9,y:131,alpha:1},speed:3e3,move:{alpha:[.9,.7,.5,.7,.9,1]}},bg:{img:imgPath+"5/bg.jpg",pos:{x:0,y:0}}},10:{dl:{img:imgPath+"10/dl.png",pos:{x:580,y:343,rotate:deg(15)},speed:2e3,rotateAnchor:[.5922,.0326],move:{rotate:[deg(-15.4),deg(15)]}},canche:{img:imgPath+"10/can-che.png",pos:{x:0,y:195}},pig:{img:imgPath+"10/pig.png",pos:{x:219,y:355,rotate:deg(4)},speed:2300,rotateAnchor:[.5,.5],move:{rotate:[deg(-4),deg(4)]}},bomi:{img:imgPath+"10/bomi.png",pos:{x:95+sizeObj.rootX,y:663,alpha:0},speed:1100,move:{alpha:1}},douwa:{img:imgPath+"10/douwa.png",pos:{x:258+sizeObj.rootX,y:667,alpha:0},speed:1100,move:{alpha:1}},yaya:{img:imgPath+"10/yaya.png",pos:{x:337+sizeObj.rootX,y:808,alpha:0},speed:1100,move:{alpha:1}},oulian:{img:imgPath+"10/oulian.png",pos:{x:402+sizeObj.rootX,y:634,alpha:0},speed:1100,move:{alpha:1}},zhuaigen:{img:imgPath+"10/zhuai-gen.png",pos:{x:622+sizeObj.rootX,y:751,alpha:0},speed:1100,move:{alpha:1}},grass:{img:imgPath+"10/grass.png",pos:{x:0,y:980}},ground:{img:imgPath+"10/ground.png",pos:{x:0,y:611}},naicha:{img:imgPath+"10/nai-cha.png",pos:{x:301,y:511}},qshen:{img:imgPath+"10/q-shen.png",pos:{x:88,y:126}},q1:{img:imgPath+"10/q1.png",pos:{x:114,y:0,rotate:deg(17)},speed:2100,rotateAnchor:[.3363,.9236],move:{rotate:[deg(-17),deg(17)]}},q2:{img:imgPath+"10/q2.png",pos:{x:106,y:89,rotate:deg(17)},speed:2e3,rotateAnchor:[.3362,.9244],move:{rotate:[deg(-17),deg(17)]}},q3:{img:imgPath+"10/q3.png",pos:{x:50,y:23,rotate:deg(18.5)},speed:2100,rotateAnchor:[.7195,.9523],move:{rotate:[deg(-18.5),deg(18.5)]}},q4:{img:imgPath+"10/q4.png",pos:{x:82,y:131,rotate:deg(10)},speed:2e3,rotateAnchor:[.5062,.9549],move:{rotate:[deg(-10),deg(10)]}},q5:{img:imgPath+"10/q5.png",pos:{x:22,y:84,rotate:deg(12)},speed:2e3,rotateAnchor:[.8019,.9324],move:{rotate:[deg(-12),deg(12)]}},q6:{img:imgPath+"10/q6.png",pos:{x:27,y:162,rotate:deg(10)},speed:3500,rotateAnchor:[.751,.9219],move:{rotate:[deg(-10),deg(10)]}},q7:{img:imgPath+"10/q7.png",pos:{x:88,y:265,rotate:deg(-5)},speed:2e3,rotateAnchor:[.9152,.925],move:{rotate:[deg(5),deg(-5)]}},q8:{img:imgPath+"10/q8.png",pos:{x:0,y:126,rotate:deg(-11)},speed:2100,rotateAnchor:[.8807,.9362],move:{rotate:[deg(11),deg(-11)]}},q9:{img:imgPath+"10/q9.png",pos:{x:43,y:226,rotate:deg(-7)},speed:2150,rotateAnchor:[.9025,.8747],move:{rotate:[deg(7),deg(-7)]}}},9:{bg:{img:imgPath+"9/bg.jpg",pos:{x:0,y:0}},xing:{img:imgPath+"9/xing-xing.png",pos:{x:211,y:170}},xingGuang:{img:imgPath+"9/xing-guang.png",pos:{x:119,y:87,alpha:0,scale:.3},speed:2e3,move:{alpha:[1,0],scale:1}},xqred:{img:imgPath+"9/xq-red.png",pos:{x:-79-sizeObj.rootX,y:620},speed:1e3,move:{x:0-sizeObj.rootX}},xqGreen:{img:imgPath+"9/xq-green.png",pos:{x:244,y:697,alpha:1},speed:1e3,move:{alpha:1}},xqBlue:{img:imgPath+"9/xq-blue.png",pos:{x:629,y:993,alpha:1},speed:1e3,move:{alpha:1}},pig:{img:imgPath+"9/pig.png",pos:{x:229,y:146}},zhijia:{img:imgPath+"9/zhi-jia.png",pos:{x:299,y:295}},dianzhui:{img:imgPath+"9/dian-zhui.png",pos:{x:291,y:334}},moFaBang:{img:imgPath+"9/mo-fa-bang.png",pos:{x:408,y:114,rotate:deg(-8)},speed:1e3,rotateAnchor:[.0714,.943],move:{rotate:[deg(8),deg(-8)]}},quanquan:{img:imgPath+"9/quan-quan.png",pos:{x:30,y:22,rotate:deg(0)},speed:25e3,rotateAnchor:[.5,.5],move:{rotate:[deg(360)]}},moXiang:{img:imgPath+"9/mo-xiang.png",pos:{x:0,y:0,rotate:deg(0)},speed:9e3,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket1:{img:imgPath+"9/basket1.png",pos:{x:285,y:-21,rotate:deg(0)},speed:25e3,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket2:{img:imgPath+"9/basket2.png",pos:{x:557,y:149,rotate:deg(0)},speed:25e3,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket3:{img:imgPath+"9/basket3.png",pos:{x:583,y:371,rotate:deg(0)},speed:25e3,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket4:{img:imgPath+"9/basket4.png",pos:{x:426,y:569,rotate:deg(0)},speed:25e3,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket5:{img:imgPath+"9/basket5.png",pos:{x:151,y:563,rotate:deg(0)},speed:25e3,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket6:{img:imgPath+"9/basket6.png",pos:{x:-22,y:370,rotate:deg(0)},speed:25e3,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}},basket7:{img:imgPath+"9/basket7.png",pos:{x:-26,y:136,rotate:deg(0)},speed:25e3,rotateAnchor:[.5,.5],move:{rotate:[deg(-360)]}}},11:{pig_sprites:{img:imgPath+"11/pig_sprites.png",clip:{pig:{x:0,y:0,width:481,height:561,pos:{x:0,y:0}},pig_hand:{x:0,y:573,width:197,height:223,pos:{x:-124,y:45}},star:{x:207,y:573,width:75,height:78,pos:{}}},alpha:0,move:{alpha:1,speed:800}},cartoon_sprites:{img:imgPath+"11/cartoon_sprites.png",clip:{bomi:{x:0,y:0,width:77,height:106,pos:{x:286,y:49}},chair:{x:77,y:0,width:384,height:72,pos:{x:35,y:94}},douwa:{x:461,y:0,width:76,height:122,pos:{x:201,y:38}},oulian:{x:537,y:0,width:162,height:148,pos:{x:0,y:0}},yaya:{x:698,y:0,width:61,height:52,pos:{x:144,y:102}},zhuaigen:{x:759,y:0,width:50,height:56,pos:{x:365,y:96}}}},bg_sprites:{img:imgPath+"11/caidai_sprites.png",clip:{c1:{x:0,y:0,width:100,height:69,pos:{x:sizeObj.rootWidth-100,y:sizeObj.rootHeight-69}},c2:{x:101,y:0,width:201,height:91,pos:{x:0,y:sizeObj.rootHeight-91}},c3:{x:301,y:0,width:12,height:14,pos:{x:sizeObj.rootWidth-151,y:sizeObj.rootHeight-49}}}}},12:{cartoon:{img:imgPath+"12/cartoon.png",clip:{douwa:{x:0,y:0,width:96,height:206,alpha:0,pos:{x:373,y:-5},move:{alpha:1}},douwa_left_hand:{x:99,y:0,width:95,height:46,alpha:0,pos:{x:332,y:103},move:{alpha:1},swag:{}},douwa_right_hand:{alpha:0,x:98,y:46,width:86,height:69,pos:{x:429,y:78},move:{alpha:1}},douwa_full:{x:0,y:222,width:183,height:183,alpha:0,pos:{x:332,y:-5},move:{alpha:1,x:332,y:11,speed:600}},zhuaigen:{x:35,y:413,width:101,height:87,alpha:0,pos:{x:184,y:350},move:{alpha:1,speed:600,x:194,y:340}},bomi:{x:194,y:2,width:147,height:207,alpha:0,pos:{x:515,y:72}},bomi_hand:{x:182,y:208,width:83,height:56,alpha:0,pos:{x:532,y:170},swag:{speed:2500,x:[522,532],y:[163,170]}},bomi_full:{alpha:0,x:190,y:271,width:147,height:202,pos:{x:525,y:55},move:{alpha:1,speed:600,x:515,y:70}},yaya:{x:344,y:0,width:110,height:95,alpha:0,pos:{x:95,y:245}},yaya_qin:{x:344,y:120,width:97,height:66,alpha:0,pos:{x:113,y:285},move:{}},yaya_hand:{x:262,y:214,width:57,height:59,alpha:0,pos:{x:153,y:278},move:{alpha:1,speed:400},swag:{speed:3e3,x:[143,153,160,153],y:[288,278,269,278]}},yaya_full:{x:344,y:206,width:111,height:93,alpha:0,pos:{x:75,y:248},move:{alpha:1,x:95,y:248,speed:600}},pig1:{width:85,height:76,x:355,y:321,alpha:0,pos:{x:396,y:380},move:{alpha:1,x:386,y:367,speed:600},bounce:{speed:1300,y:[367,355,367,360,367],delay:500}},pig2:{x:334,y:413,width:124,height:83,alpha:0,pos:{x:485,y:322},move:{alpha:1,speed:600,x:470,y:312},bounce:{speed:1300,y:[312,300,312,306,312]}}}},cartoon2:{img:imgPath+"12/cartoon2.png",clip:{oulian:{x:0,y:0,alpha:0,width:234,height:295,pos:{x:55,y:-10},move:{alpha:1,x:68,y:0,speed:600}},book:{x:6,y:298,width:150,height:93,alpha:0,pos:{x:324,y:233},move:{alpha:1,x:324,y:233,speed:1e3}},m1:{width:41,height:46,x:16,y:400,alpha:0,pos:{x:38,y:784},move:{alpha:1}},m3:{width:41,height:46,x:16,y:400,alpha:0,rotation:40*Math.PI/180,pos:{x:sizeObj.rootWidth-38-47,y:sizeObj.rootHeight-42-40},move:{alpha:1}},m2:{width:17,height:24,x:76,y:410,alpha:0,pos:{x:sizeObj.rootWidth-50,y:589},move:{alpha:1}}}},light1:{img:imgPath+"12/light_yellow.png",alpha:0,pos:{x:203,y:174},move:{alpha:1}},light2:{img:imgPath+"12/light_blue.png",alpha:0,pos:{x:72,y:-172},move:{alpha:1}},bg:{img:imgPath+"12/bg.png",alpha:0,pos:{x:0,y:0},move:{alpha:1}}},13:{lastlight:{img:imgPath+"last-light.png",pos:{x:0,y:224}}}},Config={root:{width:750,height:1334},sprite:{8:[{dir:imgPath+"coaster/",count:15,width:750,height:666,startIndex:3,imgType:"png",pos:{x:0,y:200},speed:.4},{dir:imgPath+"pig/",img:imgPath+"pig/sprites.png",count:17,width:397,height:300,startIndex:0,imgType:"png",pos:{x:383,y:170},loop:!0,speed:.26}]}},curPage=(sizeObj=pixiSize(),location.hash.substring(1).replace(/(\?).*/,"")||0),textStyle={fontSize:32,fill:"#ffffff",align:"center",stroke:"#000000",strokeThickness:6},Application=PIXI.Application,Container=PIXI.Container,loader=PIXI.loader,resources=PIXI.loader.resources,Sprite=PIXI.Sprite,Texture=PIXI.Texture,TextureCache=PIXI.utils.TextureCache,Rectangle=PIXI.Rectangle,Graphics=PIXI.Graphics;function renderText(t,e,a){var o,i,n=this;this.textContainer?o=this.textContainer:(o=new Container,this.textContainer=o),o.alpha=e?1:0,sizeObj.windowWidth<750&&!a?i=sizeObj.windowWidth/850:a?i=sizeObj.windowWidth/a:750<=sizeObj.windowWidth&&(i=sizeObj.windowWidth/750);for(var r=0;r<t.length;r++){var s=new PIXI.Text(t[r].text,t[r].style?t[r].style:textStyle);s.position.x=this.app.screen.width/2,s.scale.set(i),s.anchor.x=.5,1208<=sizeObj.windowHeight?s.position.y=this.app.screen.height-t[r].y-120:1206<=sizeObj.windowHeight?s.position.y=this.app.screen.height-t[r].y-20:1136<=sizeObj.windowHeight?s.position.y=this.app.screen.height-t[r].y-40:s.position.y=this.app.screen.height-t[r].y+20,o.addChild(s)}this.textContainerAnimate=new TWEEN.Tween({alpha:0}).to({alpha:1},1e3).onUpdate(function(t){o.alpha=t.alpha}).onComplete(function(){13!=curPage&&renderArrow.call(n)}),this.other.addChild(o)}function renderArrow(){var t=new Container,e=new Sprite(TextureCache["./static/images/arrow.png"]);e.position.x=this.app.screen.width/2,e.anchor.x=.5,e.position.y=this.app.screen.height-e.height-50,this.arrowAnimate=new TWEEN.Tween({y:this.app.screen.height-e.height-50}).to({y:[this.app.screen.height-e.height-30,this.app.screen.height-e.height-50]},2e3).onUpdate(function(t){e.y=t.y}).repeat(1/0).start(),t.removeChild(),t.addChild(e),this.other.addChild(t)}function renderBtn(){var e=new Container;e.alpha=0;var a=new PIXI.Graphics,t=new PIXI.Text("点击开启奇妙之旅",{fontSize:30,fill:"#ffffff"});a.lineStyle(0),a.beginFill(866883),a.drawCircle(0,0,46.5),a.endFill(),a.lineStyle(0),a.beginFill(1201757),a.drawCircle(0,0,35.5),a.endFill(),a.lineStyle(0),a.beginFill(15988471),a.drawCircle(0,0,20.5),a.endFill(),a.position.x=this.app.screen.width/2,a.position.y=this.app.screen.height-151,a.buttonMode=!0,a.interactive=!0,a.scale.set(.8),a.on("pointertap",function(){$.fn.fullpage.moveSectionDown()}),new TWEEN.Tween({alpha:0}).to({alpha:1},2e3).onUpdate(function(t){e.alpha=t.alpha}).onComplete(function(){new TWEEN.Tween({scale:.8}).to({scale:[1,.8]},2e3).onUpdate(function(t){a.scale.set(t.scale)}).repeat(1/0).start()}).start(),t.anchor.x=.5,t.position.x=this.app.screen.width/2,t.position.y=this.app.screen.height-74,e.addChild(t,a),this.other.addChild(e)}function init(){Resize.init(),Slide.init(),PixiCtrl.init()}function animate(){TWEEN.update(),requestAnimationFrame(animate.bind(this)),this.app.render()}var Resize={init:function(){this.resizeEvent="onorientationchange"in window?"orientationchange":"resize",this.checkType(),this.bind()},bind:function(){window.addEventListener(this.resizeEvent,function(){Resize.checkType(!0)})},checkType:function(t){var e;e="orientationchange"==this.resizeEvent&&180===window.orientation||0===window.orientation?"portrait":"resize"==this.resizeEvent&&sizeObj.rootHeight>sizeObj.rootWidth?"portrait":"landscape",this.tip(e,t)},tip:function(t,e){if("landscape"==(this.type=t))$(".m-horizontal").addClass("z-active");else if(e)if($(".m-horizontal").removeClass("z-active"),PixiCtrl.isStart)this.resetSize();else var a=setTimeout(function(){clearTimeout(a),sizeObj=pixiSize(),PixiCtrl.sourceComplete()},100)},resetSize:function(){sizeObj=pixiSize(sizeObj.windowWidth,sizeObj.windowHeight)}},Slide={curPage:curPage,init:function(){this.isInit||(this.isInit=!0,$("#slide").find(".section").eq(this.curPage).addClass("active"),fullpage=$("#slide").fullpage({licenseKey:"OPEN-SOURCE-GPLV3-LICENSE",animateAnchor:!1,recordHistory:!1,menu:"#slide",anchors:["0","1","2","3","4","5","6","7","8","9","10","11","12","13"],isScrolling:!0,resize:!1,onLeave:function(t,e,a){var o=t.index;"function"==typeof AnimateCtrl[o].destory&&AnimateCtrl[o].destory()},afterLoad:function(t,e,a){if(t){var o=t.index,i=e.index;PixiCtrl.change(i),PixiCtrl.destory(o)}}}))}},SpriteCtrl={curPage:curPage,spriteObj:{},init:function(){this.config=Config.sprite,this.spriteImgArr=[],this.spriteContainer=new Container},ready:function(){for(var t=new Container,e=this.spriteObj[this.curPage],a=0;a<e.length;a++)e[a].container=new Container,t.addChild(e[a].container);this.root.addChild(t)},start:function(t){this.root=t,this.ready(),this.play()},getSpriteImg:function(){for(var t in this.config)this.spriteObj[t]=this.spriteInit(this.config[t]);return this.spriteImgArr},spriteInit:function(t){for(var e=[],a=0;a<t.length;a++){var o=new SpriteAnimate(t[a]);e.push(o),this.spriteImgArr=this.spriteImgArr.concat(o.imgPath)}return e},play:function(){var t=this.spriteObj[this.curPage];if(t)for(var e=0;e<t.length;e++)t[e].render()},destory:function(t){var e=this.spriteObj[t];if(e)for(var a=0;a<e.length;a++)e[a].container.destroy()}};function SpriteAnimate(t){this.container=t.container,this.dir=t.dir,this.img=t.img,this.count=t.count,this.name=t.name||"i_000",this.width=t.width,this.height=t.height,this.startIndex=t.startIndex||0,this.imgType=t.imgType,this.loop=t.loop,this.pos=t.pos,this.param=t.param,this.speed=t.speed||1,this.visible=t.visible||!1,this.init()}SpriteAnimate.prototype={init:function(){this.imgPath=this.getSpriteImgPath()},render:function(){var t,e;if(this.img){for(var a=TextureCache[this.img],o=[],i=0;i<this.count;i++){var n=new Rectangle(i*this.width,0,this.width,this.height),r=new Texture(a,n);o.push(r)}t=new PIXI.extras.AnimatedSprite(o)}else t=new PIXI.extras.AnimatedSprite.fromImages(this.imgPath);(e=(new Container).addChild(t)).visible=this.visible,e.animationSpeed=this.speed,e.loop=this.loop,e.width=this.width,e.height=this.height,t.position.set(this.pos.x,this.pos.y),this.container.addChild(e),this.animate=e,this.play()},getSpriteImgPath:function(){if(this.img)return[this.img];for(var t=[],e=this.startIndex;e<this.count+this.startIndex;e++)t.push(this.dir+this.name+(e<10?"0"+e:e)+"."+this.imgType);return t},getSpriteContainer:function(){return this.animate},getSprite:function(){return this.sprite},play:function(){return this.animate.visible=!0,this.animate.play(),this}};var tool={createCtx:function(){var t=new Container,e=new Container,a=new Application({width:sizeObj.windowWidth,height:sizeObj.windowHeight,antialias:!0,transparent:!0,resolution:1,forceCanvas:!0});return this.app=a,this.root=t,this.other=e,this.app.renderer.view.id="canvas",e.width=sizeObj.rootWidth,e.height=sizeObj.rootHeight,e.scale.set(1),t.width=sizeObj.rootWidth,t.height=sizeObj.rootHeight,t.scale.set(sizeObj.scaleX,sizeObj.scaleY),t.x=sizeObj.rootX,a.stage.addChild(t,e),a},createContainer:function(){this.app||$(".section-"+curPage).find(".fp-tableCell").append(tool.createCtx.call(this).view),this.container={};for(var t=0;t<this.containerGroup.length;t++)this.container[this.containerGroup[t]]=new Container},render:function(){for(var t in this.datas){var e=this.datas[t],a=e.clip;if(a)for(var o in a){var i=a[o],n=new Texture(PIXI.BaseTexture.fromImage(e.img)),r=new Rectangle(i.x,i.y,i.width,i.height);n.frame=r,this.sprites[o]=new Sprite(n),this.sprites[o].position.set(i.pos.x,i.pos.y),this.sprites[o].alpha=0<=i.alpha?i.alpha:1}else{var s=TextureCache[e.img],h=e.position||e.pos;this.sprites[t]=new Sprite(s),this.sprites[t].position.set(h.x,h.y),this.sprites[t].alpha=0<=e.alpha?e.alpha:1}}for(var t in this.group)for(var p=this.group[t],l=0;l<p.length;l++)this.container[t].addChild(this.sprites[p[l]])},random:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},rangeArr:function(t,e){var a=e-t+1,o=t-1;return Array.apply(null,{length:a}).map(function(t,e){return++o})},fadeIn:function(e){var a=e.sprite,t=e.data,o=e.move||t.move,i=t.postiion||t.pos||{x:a.position.x,y:a.position.y};if(o)return new TWEEN.Tween({x:i.x,y:i.y,alpha:t.alpha}).to({x:o.x,y:o.y,alpha:o.alpha},o.speed).repeat(e.repeat?1/0:0).onUpdate(function(t){a.alpha=t.alpha,a.position.set(t.x,t.y)}).onComplete(function(t){"function"==typeof e.onComplete&&e.onComplete(t)}).delay(o.delay||0).start()},requestInterval:function(a,o){if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(a,o);var i=(new Date).getTime(),n=new Object;return n.value=window.requestAnimationFrame(function t(){var e=(new Date).getTime();o<=e-i&&(a.call(),i=(new Date).getTime()),n.value=window.requestAnimationFrame(t)}),n},clearInterval:function(t){t&&window.cancelAnimationFrame(t.value)},destory:function(){if(this.animateGroup)for(var t=0;t<this.animateGroup.length;t++)this.animateGroup[t].stop()}},progressBar=document.getElementById("progress-bar"),loading=document.getElementById("loading"),PixiCtrl={curPage:curPage,init:function(){SpriteCtrl.init(),loader.add(this.getAllImgs()).add("./static/images/arrow.png").on("progress",this.sourceloader.bind(this)).load(this.sourceComplete.bind(this))},change:function(t,e){curPage=t,this.curPage=t,SpriteCtrl.curPage=t,this.sourceComplete()},destory:function(t){var e=AnimateCtrl[t],a=e.root,o=e.other;if(a)for(;a.children[0];)a.children[0].removeChild(),a.children[0].destroy(),a.removeChild(a.children[0]);if(o)for(;o.children[0];)o.children[0].removeChild(),o.removeChild(o.children[0]);SpriteCtrl.destory(t),e.textContainerAnimate&&e.textContainerAnimate.stop(),e.arrowAnimate&&e.arrowAnimate.stop()},sourceloader:function(t,e){var a=parseInt(t.progress)+"%";progressBar.style.width=a},sourceComplete:function(){"portrait"==Resize.type&&sizeObj.windowHeight>sizeObj.windowWidth&&(this.isStart=!0,AnimateCtrl[this.curPage].start()),loading.style.display="none"},getAllImgs:function(){var t=[];for(var e in august)for(var a in august[e])august[e][a].img&&t.push(august[e][a].img);return t.concat(SpriteCtrl.getSpriteImg())}},AnimateCtrl={0:{containerGroup:["main","bg","corner","book","light","start","text"],animate:{},start:function(){tool.createContainer.call(this),this.render(),animate.call(this)},render:function(){var t,e,a=this,o=this.container.bg,i=this.container.main,n=this.container.corner,r=this.container.book,s=this.container.start,h=this.container.light,p=(this.container.text,this.animate),l=august[0],d=new Sprite(TextureCache[l.leaf.img]);d.position.set(l.leaf.pos.x,l.leaf.pos.y);var g=new Sprite(TextureCache[l.douwa.img]);g.position.set(l.douwa.pos.x,l.douwa.pos.y),g.alpha=l.douwa.alpha;var c=new Sprite(TextureCache[l.oulian.img]);c.position.set(l.oulian.pos.x,l.oulian.pos.y),c.alpha=l.oulian.alpha;var m=new Sprite(TextureCache[l.dragon.img]);m.position.set(l.dragon.pos.x,l.dragon.pos.y),m.alpha=l.dragon.alpha;var u=new Sprite(TextureCache[l.yaya.img]);u.position.set(l.yaya.pos.x,l.yaya.pos.y),u.alpha=l.yaya.alpha;var y=new Sprite(TextureCache[l.bomi.img]);y.position.set(l.bomi.pos.x,l.bomi.pos.y),y.alpha=l.bomi.alpha;var x=new Sprite(TextureCache[l.bookdark.img]);x.position.set(l.bookdark.pos.x,l.bookdark.pos.y);var w=new Sprite(TextureCache[l.star1.img]);w.position.set(l.star1.pos.x,l.star1.pos.y),w.rotation=l.star1.pos.rotate,w.anchor.set(l.star1.rotateAnchor[0],l.star1.rotateAnchor[1]);var f=new Sprite(TextureCache[l.star1.img]);f.position.set(l.star2.pos.x,l.star2.pos.y),f.rotation=l.star2.pos.rotate,f.anchor.set(l.star2.rotateAnchor[0],l.star2.rotateAnchor[1]);var v=new Sprite(TextureCache[l.blueLight.img]);v.position.set(l.blueLight.pos.x,l.blueLight.pos.y),v.alpha=l.blueLight.alpha;var T=new Sprite(TextureCache[l.yellowLight.img]);T.position.set(l.yellowLight.pos.x,l.yellowLight.pos.y),T.alpha=l.yellowLight.alpha;var b=new Sprite(TextureCache[l['logo'].img]);b.position.set(l['logo'].pos.x+.5*b.width,l['logo'].pos.y+.5*b.height),b.anchor.set(.5,.5),b.scale.set(.9),new TWEEN.Tween({y:l.douwa.pos.y,alpha:l.douwa.alpha}).to({y:l.douwa.move.y,alpha:l.douwa.move.alpha},l.douwa.speed).onUpdate(function(t){g.position.y=t.y,g.alpha=t.alpha}).start(),new TWEEN.Tween({x:l.oulian.pos.x,y:l.oulian.pos.y}).to({x:l.oulian.move.x,y:l.oulian.move.y},l.oulian.speed).onUpdate(function(t){c.position.x=t.x,c.position.y=t.y}).start(),new TWEEN.Tween({x:l.dragon.pos.x,y:l.dragon.pos.y,alpha:l.dragon.alpha}).to({x:l.dragon.move.x,y:l.dragon.move.y,alpha:l.dragon.move.alpha},l.dragon.speed).onUpdate(function(t){m.position.x=t.x,m.position.y=t.y,m.alpha=t.alpha}).start(),new TWEEN.Tween({x:l.yaya.pos.x,y:l.yaya.pos.y,alpha:l.yaya.alpha}).to({x:l.yaya.move.x,y:l.yaya.move.y,alpha:l.yaya.move.alpha},l.yaya.speed).onUpdate(function(t){u.position.x=t.x,u.position.y=t.y,u.alpha=t.alpha}).start(),new TWEEN.Tween({x:l.bomi.pos.x,y:l.bomi.pos.y,alpha:l.bomi.alpha}).to({x:l.bomi.move.x,y:l.bomi.move.y,alpha:l.bomi.move.alpha},l.bomi.speed).onUpdate(function(t){y.position.x=t.x,y.position.y=t.y,y.alpha=t.alpha}).onComplete(function(){p.yellowLight.start(),renderBtn.call(a)}).start();var E=new TWEEN.Tween({rotate:l.star1.pos.rotate}).to({rotate:l.star1.move.rotate},l.star1.speed).onUpdate(function(t){w.rotation=t.rotate}).repeat(1/0).start(),C=new TWEEN.Tween({rotate:l.star2.pos.rotate}).to({rotate:l.star2.move.rotate},l.star2.speed).onUpdate(function(t){f.rotation=t.rotate}).repeat(1/0).start();p.blueLight=new TWEEN.Tween({alpha:l.blueLight.alpha}).to({alpha:l.blueLight.move.alpha},l.blueLight.speed).onUpdate(function(t){v.alpha=t.alpha}).onComplete(function(){v.alpha=1}).delay(l.yaya.speed).start(),p.yellowLight=new TWEEN.Tween({alpha:l.yellowLight.alpha}).to({alpha:l.yellowLight.move.alpha},l.yellowLight.speed).onUpdate(function(t){T.alpha=t.alpha}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0),h.addChild(v,T),s.addChild(w,f),r.addChild(x),n.addChild(g,c,m,u,y),o.addChild(d),i.addChild(o,h,n,r,b,s),this.timer1=tool.requestInterval(function(){e=a.renderLight(),i.addChild(e)},400),this.timer2=tool.requestInterval(function(){t=a.renderLeaf(),i.addChild(t)},5e3),this.root.addChild(i),this.animateGroup=[E,C,p.yellowLight]},renderLight:function(){var t=new Container,e=[256,467],a=[719,777];var o=new Graphics;return o.beginFill(16443905),o.drawCircle(0,0,tool.random(1,3)),o.endFill(),o.position.set(tool.random(e[0],e[1]),tool.random(a[0],a[1])),new TWEEN.Tween({x:tool.random(256,467),y:tool.random(719,777),alpha:1}).to({x:tool.random(0,sizeObj.rootWidth),y:tool.random(0,233),alpha:0},1e4).onUpdate(function(t){o.alpha=t.alpha,o.position.set(t.x,t.y)}).onComplete(function(){t.removeChild(o)}).start(),t.addChild(o),t},renderLeaf:function(){var t=new Container,e=august[0],a=new Sprite(TextureCache[e.y1.img]),o=new Sprite(TextureCache[e.y2.img]),i=new Sprite(TextureCache[e.y3.img]),n=new Sprite(TextureCache[e.y4.img]),r=new Sprite(TextureCache[e.y5.img]);return new TWEEN.Tween({x:.5*tool.random(195,600),y:tool.random(662,812),alpha:1}).to({x:.5*tool.random(0,sizeObj.rootWidth),y:tool.random(0,266),alpha:0},1e4).onUpdate(function(t){a.alpha=t.alpha,a.position.set(t.x,t.y)}).onComplete(function(){t.removeChild(a)}).start(),new TWEEN.Tween({x:2*tool.random(195,600),y:tool.random(662,812),alpha:1}).to({x:2*tool.random(0,sizeObj.rootWidth),y:tool.random(0,266),alpha:0},1e4).onUpdate(function(t){o.alpha=t.alpha,o.position.set(t.x,t.y)}).onComplete(function(){t.removeChild(o)}).start(),new TWEEN.Tween({x:.5*tool.random(195,600),y:tool.random(662,812),alpha:1}).to({x:.5*tool.random(0,sizeObj.rootWidth),y:tool.random(0,266),alpha:0},1e4).onUpdate(function(t){i.alpha=t.alpha,i.position.set(t.x,t.y)}).onComplete(function(){t.removeChild(i)}).start(),new TWEEN.Tween({x:2*tool.random(195,600),y:tool.random(662,812),alpha:1}).to({x:2*tool.random(0,sizeObj.rootWidth),y:tool.random(0,266),alpha:0},1e4).onUpdate(function(t){n.alpha=t.alpha,n.position.set(t.x,t.y)}).onComplete(function(){t.removeChild(n)}).start(),new TWEEN.Tween({x:2*tool.random(195,600),y:tool.random(662,812),alpha:1}).to({x:2*tool.random(0,sizeObj.rootWidth),y:tool.random(0,266),alpha:0},1e4).onUpdate(function(t){r.alpha=t.alpha,r.position.set(t.x,t.y)}).onComplete(function(){t.removeChild(r)}).start(),t.addChild(a,o,i,n,r),t},renderText:function(){var t=this.container.text,e=new PIXI.Text("风吹落枯叶，簌簌的落下；花爬上枝头，倏地开放",textStyle),a=new PIXI.Text("远方天空微亮，似有烟火声声绽放",textStyle),o=new PIXI.Text("听啊，序曲已经奏响，为崭新的篇章",textStyle);e.position.x=this.app.screen.width/2,e.anchor.x=.5,e.position.y=this.app.screen.height-250,a.position.x=this.app.screen.width/2,a.anchor.x=.5,a.position.y=this.app.screen.height-200,o.position.x=this.app.screen.width/2,o.anchor.x=.5,o.position.y=this.app.screen.height-150,t.addChild(e,a,o),this.other.addChild(t)},destory:function(){tool.destory.call(this),tool.clearInterval(this.timer1),tool.clearInterval(this.timer2)}},2:{containerGroup:["main","corner","pigContainer","track"],animate:{},start:function(){tool.createContainer.call(this),this.render(),this.renderText(),animate.call(this)},render:function(){var t=this,e=this.container.main,a=this.container.corner,o=this.container.pigContainer,i=this.container.track,n=this.animate;o.position.y=0-sizeObj.rootY+sizeObj.rootHeight;var r=august[2],s=new Sprite(TextureCache[r.star.img]);s.position.set(r.star.pos.x,r.star.pos.y);var h=new Sprite(TextureCache[r.startHighlight.img]);h.position.set(r.startHighlight.pos.x,r.startHighlight.pos.y);var p=new Sprite(TextureCache[r.clustersStart.img]);p.position.set(r.clustersStart.pos.x,r.clustersStart.pos.y);var l=new Sprite(TextureCache[r.starHeart.img]);l.position.set(r.starHeart.pos.x+sizeObj.rootX,r.starHeart.pos.y);var d=new Sprite(TextureCache[r.star2.img]);d.position.set(r.star2.pos.x,r.star2.pos.y);var g=new Container,c=new Sprite(TextureCache[r.pigTail.img]);g.position.set(r.pigTail.pos.x+c.width/2,r.pigTail.pos.y),c.anchor.set(r.pigTail.pos.rotateAnchor[0],r.pigTail.pos.rotateAnchor[1]);var m=new Sprite(TextureCache[r.oulian.img]);m.position.set(-25,c.height),m.anchor.set(.65,.045),m.rotation=r.oulian.pos.rotate;var u=new Sprite(TextureCache[r.bigPig.img]);u.position.set(r.bigPig.pos.x,r.bigPig.pos.y);var y=new Sprite(TextureCache[r.trackGreen.img]);y.position.set(r.trackGreen.pos.x,r.trackGreen.pos.y),y.alpha=r.trackGreen.pos.alpha;var x=new Sprite(TextureCache[r.trackRed.img]);x.position.set(r.trackRed.pos.x,r.trackRed.pos.y),x.alpha=r.trackRed.pos.alpha;var w=new Sprite(TextureCache[r.trackYellow.img]);w.position.set(r.trackYellow.pos.x,r.trackYellow.pos.y),w.alpha=r.trackYellow.pos.alpha;var f=new Sprite(TextureCache[r.trackBlue.img]);f.position.set(r.trackBlue.pos.x,r.trackBlue.pos.y),f.alpha=r.trackBlue.pos.alpha;var v=new Sprite(TextureCache[r.trackYellowBig.img]);v.position.set(r.trackYellowBig.pos.x,r.trackYellowBig.pos.y),v.alpha=r.trackYellowBig.pos.alpha;var T=new Sprite(TextureCache[r.starYellow.img]);T.position.set(r.starYellow.pos.x,r.starYellow.pos.y),T.alpha=r.starYellow.pos.alpha;var b=new Sprite(TextureCache[r.starBlue.img]);b.position.set(r.starBlue.pos.x,r.starBlue.pos.y),b.alpha=r.starBlue.pos.alpha;var E=new Sprite(TextureCache[r.startHighlight.img]);E.position.set(r.starYellowHight.pos.x,r.starYellowHight.pos.y),E.alpha=r.starYellowHight.pos.alpha;var C=new TWEEN.Tween({y:0-sizeObj.rootY+sizeObj.rootHeight}).to({y:-(u.height-213)},6e3).onUpdate(function(t){o.position.y=t.y}).onComplete(function(){for(var t in n)n[t].start()}).start();new TWEEN.Tween({alpha:r.startHighlight.pos.alpha}).to({alpha:r.startHighlight.move.alpha},r.startHighlight.move.speed).onUpdate(function(t){h.alpha=t.alpha}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),new TWEEN.Tween({y:r.starHeart.pos.y}).to({y:r.starHeart.move.y},r.starHeart.speed).onUpdate(function(t){l.position.y=t.y}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start();new TWEEN.Tween({translateX:r.star2.pos.x}).to({translateX:r.star2.move.x}).onUpdate(function(t){d.position.x=t.translateX}).start(),new TWEEN.Tween({rotate:r.pigTail.pos.rotate}).to({rotate:r.pigTail.move.rotate},r.pigTail.speed).onUpdate(function(t){g.rotation=t.rotate}).interpolation(TWEEN.Interpolation.CatmullRom).repeat(1/0).start(),new TWEEN.Tween({rotate:r.oulian.pos.rotate}).to({rotate:r.oulian.move.rotate},r.oulian.speed).onUpdate(function(t){m.rotation=t.rotate}).interpolation(TWEEN.Interpolation.CatmullRom).repeat(1/0).start(),n.trackGreen=new TWEEN.Tween({alpha:r.trackGreen.pos.alpha}).to({alpha:r.trackGreen.move.alpha},1e3).onUpdate(function(t){y.alpha=t.alpha}),n.trackRed=new TWEEN.Tween({alpha:r.trackRed.pos.alpha}).to({alpha:r.trackRed.move.alpha},1e3).onUpdate(function(t){x.alpha=t.alpha}),n.trackYellow=new TWEEN.Tween({alpha:r.trackYellow.pos.alpha}).to({alpha:r.trackYellow.move.alpha},1e3).onUpdate(function(t){w.alpha=t.alpha}),n.trackBlue=new TWEEN.Tween({alpha:r.trackBlue.pos.alpha}).to({alpha:r.trackBlue.move.alpha},1e3).onUpdate(function(t){f.alpha=t.alpha}),n.trackYellowBig=new TWEEN.Tween({alpha:r.trackYellowBig.pos.alpha}).to({alpha:r.trackYellowBig.move.alpha},1e3).onUpdate(function(t){v.alpha=t.alpha}),n.starYellow=new TWEEN.Tween({alpha:r.starYellow.pos.alpha}).to({alpha:r.starYellow.move.alpha},1e3).onUpdate(function(t){T.alpha=t.alpha}).delay(1e3),n.starBlue=new TWEEN.Tween({alpha:r.starBlue.pos.alpha}).to({alpha:r.starBlue.move.alpha},1e3).onUpdate(function(t){b.alpha=t.alpha}).onComplete(function(){t.textContainerAnimate.start()}).delay(2e3),n.starYellowHight=new TWEEN.Tween({alpha:r.starYellowHight.pos.alpha}).to({alpha:1},1e3).onUpdate(function(t){E.alpha=t.alpha}).delay(1e3),a.addChild(p),a.addChild(h),a.addChild(s),a.addChild(l),a.addChild(d),g.addChild(m,c),o.addChild(g,u),i.addChild(y),i.addChild(x),i.addChild(w),i.addChild(f),i.addChild(v),i.addChild(E),i.addChild(T),i.addChild(b),e.addChild(a,o,i),this.root.addChild(e),this.animateGroup=[C,n.starBlue]},renderText:function(){renderText.call(this,[{text:"二月·启程",y:375,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"这条路我已走过千千万万遍",y:295},{text:"但我仍期待启程",y:245},{text:"出发，继续出发，邂逅新的风景",y:195},{text:"因为我心向远方",y:145}],!1)},destory:function(){tool.destory.call(this)}},1:{index:1,datas:august[1],animateGroup:[],containerGroup:["main","cartoon","backFire","front","star"],spritesGroup:{cartoon:["douwa","oulian","zhuaigen","bomi","yaya"],front:["pig"],main:["light","book_dark","book_light","light_book","grass"]},start:function(){tool.createContainer.call(this),this.render(),this.renderText(),animate.call(this)},render:function(){for(var t=this.sprites={},e=august[this.index],a=this.spritesGroup.cartoon,o=this.spritesGroup.main,i=(this.spritesGroup.star,a.concat(this.spritesGroup.front,o)),n=0;n<i.length;n++){var r=i[n];t[r]=new Sprite(TextureCache[e[r].img]);var s=e[r].position,h=e[r].alpha;e[r].pivot;s&&t[r].position.set(s.x,s.y),e[r].scal&&t[r].scale.set(e[r].scal,e[r].scal),e[r].rotation&&(t[r].rotation=e[r].rotation),0<=h&&(t[r].alpha=h)}var p=e.star;for(n=0;n<e.star.count;n++){var l=new Sprite(TextureCache[p.img]);l.scale.set(p.scal[n],p.scal[n]),l.position.set(p.position[n].x,p.position[n].y),this.container.star.addChild(l)}for(n=0;n<o.length;n++)this.container.main.addChild(t[o[n]]);for(n=0;n<a.length;n++)this.container.cartoon.addChild(t[a[n]]);this.container.front.addChild(this.sprites.pig),this.container.main.addChild(this.container.star),this.container.main.addChild(this.container.cartoon),this.container.main.addChild(this.container.backFire),this.container.main.addChild(this.container.front),this.root.addChild(this.container.main),this.animate()},animate:function(){for(var i=this,n=august[1],r=this.sprites,s=this.spritesGroup,t=tool.fadeIn({sprite:r.light,data:n.light}),e=tool.fadeIn({sprite:r.book_light,data:n.book_light}),a=tool.fadeIn({sprite:r.light_book,data:n.light_book}),o=tool.fadeIn({sprite:r.book_dark,data:n.book_dark,onComplete:function(){for(var t=0;t<s.cartoon.length;t++){var e=s.cartoon[t],a={sprite:r[e],data:n[e]};0==t&&(a.onComplete=function(){i.step2(),i.bookLight()});var o=tool.fadeIn(a);i.animateGroup.push(o)}}}),h=this.container.star.children,p=0;p<h.length;p++)!function(e){var a=h[e],t=new TWEEN.Tween({alpha:0}).to({alpha:1},1e3).onStart(function(){a.anchor.set(.5,.5)}).onUpdate(function(t){a.alpha=t.alpha}).onComplete(function(){var t=new TWEEN.Tween({rotation:n.star.rotation}).to({rotation:n.star.move.rotation[e]},n.star.move.speed[e]).onUpdate(function(t){a.rotation=t.rotation}).repeat(1/0).start();i.animateGroup.push(t)}).start();i.animateGroup.push(t)}(p);this.animateGroup.push(t,e,a,o)},bookLight:function(){var e=this,t=this.datas.book_light,a=new TWEEN.Tween({alpha:1}).to({alpha:t.fade.alpha},t.fade.speed).onUpdate(function(t){e.sprites.book_light.alpha=t.alpha}).repeat(1/0).start(),o=this.datas.light_book,i=new TWEEN.Tween({alpha:1}).to({alpha:o.fade.alpha},o.fade.speed).onUpdate(function(t){e.sprites.light_book.alpha=t.alpha}).repeat(1/0).start(),n=this.datas.light,r=new TWEEN.Tween({alpha:1}).to({alpha:n.fade.alpha},n.fade.speed).onUpdate(function(t){e.sprites.light.alpha=t.alpha}).repeat(1/0).start();this.animateGroup.push(a,i,r)},step2:function(){var a=this,o=august[1],i=this.sprites,t=new TWEEN.Tween({x:i.pig.position.x,y:i.pig.position.y,scale:i.pig.scale}).to({y:o.pig.move.up.y,scale:1},o.pig.move.up.speed).easing(TWEEN.Easing.Sinusoidal.Out).onUpdate(function(t){i.pig.position.y=t.y,i.pig.position.set(sizeObj.rootWidth/2-i.pig.width/2,t.y),i.pig.scale.set(t.scale,t.scale)}).onComplete(function(){var t=i.pig.position.y;a.textContainerAnimate.start();var e=new TWEEN.Tween({y:t}).to({y:o.pig.move.updown.y},o.pig.move.updown.speed).onUpdate(function(t){i.pig.position.y=t.y}).repeat(1/0).start();a.animateGroup.push(e)}).delay(500).start(),e=new TWEEN.Tween({alpha:0}).to({alpha:o.pig.move.up.alpha},600).onUpdate(function(t){i.pig.alpha=t.alpha}).delay(500).start();this.animateGroup.push(t,e),this.fireAnimate()},fireAnimate:function(){this.fireCount=2,this.renderFireWorks()},renderFireWorks:function(){var o=this,i=(this.container.fireContainer,new PIXI.Graphics),t=[12426308,45730,8762740,13327723,14266954],n=25,r=0,s=[],h=[];function p(t,e){return Math.random()*(e-t)+t}function l(t,e,a,o){var i=t-a,n=e-o;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}function d(t,e,a,o){for(this.x=t,this.y=e,this.sx=t,this.sy=e,this.tx=a,this.ty=o,this.distanceToTarget=l(t,e,a,o),this.distanceTraveled=0,this.coordinates=[],this.coordinatesCount=3;this.coordinatesCount--;)this.coordinates.push([this.x,this.y]);this.angle=Math.atan2(o-e,a-t),this.speed=.7,this.acceleration=1.05,this.brightness=p(50,70),this.targetRadius=2}function g(t,e){for(this.x=t,this.y=e,this.coordinates=[],this.coordinatesCount=7;this.coordinatesCount--;)this.coordinates.push([this.x,this.y]);this.angle=p(0,2*Math.PI),this.speed=p(2,8),this.friction=.95,this.gravity=1,this.alpha=1,this.decay=p(.015,.03)}d.prototype.update=function(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.targetRadius<8?this.targetRadius+=.3:this.targetRadius=1,this.speed*=this.acceleration;var e=Math.cos(this.angle)*this.speed,a=Math.sin(this.angle)*this.speed;this.distanceTraveled=l(this.sx,this.sy,this.x+e,this.y+a),this.distanceTraveled>=this.distanceToTarget?(!function(t,e){var a=40;for(;a--;)h.push(new g(t,e))}(this.tx,this.ty),s.splice(t,1)):(this.x+=e,this.y+=a)},d.prototype.draw=function(){i.beginFill(),i.lineStyle(2,t[Math.floor(Math.random()*t.length)],1),i.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),i.lineTo(this.x,this.y),i.endFill()},g.prototype.update=function(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=this.decay&&h.splice(t,1)},g.prototype.draw=function(){i.beginFill(),i.lineStyle(3,t[Math.floor(Math.random()*t.length)],1),i.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),i.lineTo(this.x,this.y),i.endFill()};var c=0;!function t(){o.fireTimer=requestAnimationFrame(t),i.clear();for(var e=s.length;e--;)s[e].draw(),s[e].update(e);for(e=h.length;e--;)h[e].draw(),h[e].update(e);if(n<=r){var a=c%2;fire=new d(sizeObj.rootWidth/2+10,750,a?sizeObj.rootWidth/2+tool.random(-sizeObj.rootWidth/2+20,-120):sizeObj.rootWidth/2+tool.random(sizeObj.rootWidth/2-50,150),tool.random(200,400)),s.push(fire),r=0,c++}else r++}(),this.container.backFire.addChild(i)},fireReady:function(){var t=this.fireCount,e=this.spritesGroup.backFires,a=this.spritesGroup.frontFires;this.pool={back:[],front:[]};for(var o=0;o<t;o++){this.pool.back.push([]),this.pool.front.push([]);for(var i=this.pool.back[o],n=this.pool.front[o],r=0;r<e.length;r++){var s=e[r],h=this.createFire(s);i.push(h),this.container.backFire.addChild(h)}for(r=0;r<a.length;r++){var p=a[r];h=this.createFire(p);n.push(h),this.container.front.addChild(h)}}console.log("front",this.pool.front[0])},renderText:function(){renderText.call(this,[{text:"一月·序曲",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"花爬上枝头，倏地开放",y:245},{text:"远方天空微亮，似有烟火声声绽放",y:195},{text:"听啊，序曲已经奏响，为崭新的篇章",y:145}],!1,750)},destory:function(){tool.destory.call(this),tool.clearInterval(this.fireTimer)}},3:{containerGroup:["wrapper","oulian","douwa","main","bubble","bg"],datas:august[3],animateGroup:[],group:{oulian:["oulian_hand","oulian"],douwa:["douwa_hand","douwa"],bg:["bg","x1","x2","x3"],main:["pig","shadow","zhuaigen","douwa_full","bomi_hand","bomi","yaya","xingqiu","oulian_full"]},sprites:{},start:function(){tool.createContainer.call(this),this.timer&&tool.clearInterval(this.timer),this.render(),this.renderText(),animate.call(this)},render:function(){for(var t in this.datas){var e=this.datas[t];this.sprites[t]=new Sprite(TextureCache[e.img]),this.sprites[t].position.set(e.position.x,e.position.y),this.sprites[t].alpha=0<=e.alpha?e.alpha:1}for(var t in this.group)for(var a=this.group[t],o=0;o<a.length;o++)this.container[t].addChild(this.sprites[a[o]]);this.container.main.position.set(74,242),this.container.douwa.addChild(this.container.bubble),this.container.wrapper.addChild(this.container.bg),this.container.wrapper.addChild(this.container.main),this.root.addChild(this.container.wrapper),this.animate()},animate:function(){var e=this;for(var t in this.group.main){var a=this.group.main[t],o={sprite:this.sprites[a],data:this.datas[a]};switch(a){case"oulian_full":o.onComplete=function(){var t=setTimeout(function(){clearTimeout(t),e.container.main.addChild(e.container.oulian),e.container.main.removeChild(e.sprites.oulian_full),e.container.main.addChild(e.container.douwa),e.container.main.removeChild(e.sprites.douwa_full),d.start(),p.start(),e.textContainerAnimate.start()},l.move.delay)}}var i=tool.fadeIn(o);this.animateGroup.push(i)}var n=new TWEEN.Tween({y:242}).to({y:[200,242]},3e3).onUpdate(function(t){e.container.main.position.set(e.container.main.position.x,t.y)}).repeat(1/0).start(),r=this.datas.zhuaigen,s=new TWEEN.Tween({y:r.position.y}).to({y:r.move.bounce.y},r.move.bounce.speed).delay(r.move.speed+r.move.delay).onUpdate(function(t){e.sprites.zhuaigen.position.y=t.y}).repeat(1/0).start(),h=this.datas.douwa_hand;e.sprites.douwa_hand.anchor.set(e.datas.douwa_hand.swag.anchor.x,e.datas.douwa_hand.swag.anchor.y),e.sprites.douwa_hand.position.set(e.datas.douwa_hand.position.x+4,e.datas.douwa_hand.position.y+e.sprites.douwa_hand.height);var p=new TWEEN.Tween({rotation:0}).to({rotation:h.swag.rotation},h.swag.speed).onUpdate(function(t){e.sprites.douwa_hand.rotation=t.rotation}).repeat(1/0),l=this.datas.oulian_hand,d=new TWEEN.Tween({rotation:0}).to({rotation:l.swag.rotation},l.swag.speed).onStart(function(){e.sprites.oulian_hand.anchor.set(e.datas.oulian_hand.swag.anchor.x,e.datas.oulian_hand.swag.anchor.y),e.sprites.oulian_hand.position.set(e.datas.oulian_hand.position.x+18,e.datas.oulian_hand.position.y+e.sprites.oulian_hand.height)}).onUpdate(function(t){e.sprites.oulian_hand.rotation=t.rotation}).repeat(1/0),g=this.datas.bomi_hand,c=(new TWEEN.Tween({rotation:0,scale:1}).to({rotation:[15*Math.PI/180,0,15*Math.PI/180,0],scale:[.9,1,.9,1]}).onStart(function(){e.sprites.bomi_hand.position.set(e.datas.bomi_hand.position.x+34,e.datas.bomi_hand.position.y),e.sprites.bomi_hand.anchor.set(e.datas.bomi_hand.swag.anchor.x,e.datas.bomi_hand.swag.anchor.y)}).onUpdate(function(t){e.sprites.bomi_hand.rotation=t.rotation,e.sprites.bomi_hand.scale.set(t.scale)}).delay(g.move.speed+g.move.delay).repeat(1/0).start(),this.datas.xingqiu),m=new TWEEN.Tween({rotation:0}).to({rotation:c.swag.rotation},2e3).onStart(function(){e.sprites.xingqiu.position.set(c.position.x+151,c.position.y+71.5),e.sprites.xingqiu.anchor.set(c.swag.anchor.x,c.swag.anchor.y)}).onUpdate(function(t){e.sprites.xingqiu.rotation=t.rotation}).repeat(1/0).delay(c.move.speed+c.move.delay).start(),u=tool.fadeIn({sprite:this.sprites.x1,data:this.datas.x1,onComplete:function(){w.start(),f.start(),v.start()}}),y=tool.fadeIn({sprite:this.sprites.x2,data:this.datas.x2}),x=tool.fadeIn({sprite:this.sprites.x3,data:this.datas.x3});e.sprites.x1.anchor.set(.5,.5),e.sprites.x1.position.set(e.sprites.x1.position.x+e.sprites.x1.width/2,e.sprites.x1.position.y+e.sprites.x1.height/2);var w=new TWEEN.Tween({rotation:0}).to({rotation:2*Math.PI},4e3).onStart(function(t){}).onUpdate(function(t){e.sprites.x1.rotation=t.rotation}).repeat(1/0),f=new TWEEN.Tween({rotation:0}).to({rotation:2*Math.PI},9e3).onStart(function(t){e.sprites.x2.anchor.set(.5,.5),e.sprites.x2.position.set(e.sprites.x2.position.x+e.sprites.x2.width/2,e.sprites.x2.position.y+e.sprites.x2.height/2)}).onUpdate(function(t){e.sprites.x2.rotation=t.rotation}).repeat(1/0),v=new TWEEN.Tween({rotation:0}).to({rotation:2*-Math.PI},1e4).onStart(function(t){e.sprites.x3.anchor.set(.5,.5),e.sprites.x3.position.set(e.sprites.x3.position.x+e.sprites.x3.width/2,e.sprites.x3.position.y+e.sprites.x3.height/2)}).onUpdate(function(t){e.sprites.x3.rotation=t.rotation}).repeat(1/0),T=setTimeout(function(){clearTimeout(T),e.startBubble()},1400);this.animateGroup.push(u,n,s,m,y,x,p,d,w,f,v)},destory:function(){tool.destory.call(this),tool.clearInterval(this.timer)},bubble:{r:16,scale:.5,count:40,red:{color:12933735},blue:{color:1088405},yellow:{color:14859335},green:{color:9553018}},startBubble:function(){var t=this;this.timer=tool.requestInterval(function(){t.createBubble()},80)},createBubble:function(t){var e=tool.random(1,4),a=this;switch(e){case 1:e="red";break;case 2:e="blue";break;case 3:e="yellow";break;case 4:e="green"}var o={},i={},n=tool.random(0,1),r=tool.random(2e3,2200);o.x=tool.random(267,277),o.y=-31-this.bubble.r*this.bubble.scale,i.y=0==n?(i.x=tool.random(sizeObj.rootWidth/2+100,sizeObj.rootWidth-74+this.bubble.r),-239-this.bubble.r):(i.x=sizeObj.rootWidth-74+this.bubble.r,tool.random(-100,-239));var s=t||new Graphics;s.beginFill(this.bubble[e].color),s.drawCircle(0,0,this.bubble.r),s.position.set(o.x,o.y),s.scale.set(this.bubble.scale),t||this.container.bubble.addChild(s),new TWEEN.Tween({alpha:0}).to({alpha:1},200).onUpdate(function(t){s.alpha=t.alpha}).start(),new TWEEN.Tween({alpha:1}).to({alpha:0},600).onUpdate(function(t){s.alpha=t.alpha}).delay(r-600).start(),new TWEEN.Tween({x:o.x,y:o.y,scale:this.bubble.scale}).to({x:i.x,y:i.y,scale:1},r).onUpdate(function(t){s.position.set(t.x,t.y),s.scale.set(t.scale)}).onComplete(function(){a.container.bubble.removeChild(s)}).start()},renderText:function(){renderText.call(this,[{text:"三月·穿梭",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"我遇见小鸟游泳，我碰见大象飞翔",y:245},{text:"我听见鱼在歌唱，我触到龙的鳞甲",y:195},{text:"穿梭在无尽的想象中，才发现平凡多么可贵",y:145}])}},4:{containerGroup:["wrapper","cartoon","pig","hit","light"],group:{pig:["pig","umbrella"],cartoon:["light2","cartoon","star","star_hl","light1"],wrapper:["ground"]},animateGroup:[],datas:august[4],start:function(){tool.createContainer.call(this),this.lightTimer&&(tool.clearInterval(this.lightTimer),tool.clearInterval(this.hitTimer)),this.render(),this.renderText(),this.animate(),animate.call(this)},sprites:{},render:function(){tool.render.call(this),this.container.hit.position.x=174,this.container.cartoon.position.set(182,316),this.container.wrapper.addChild(this.container.light),this.container.wrapper.addChild(this.container.pig),this.container.wrapper.addChild(this.container.cartoon),this.container.wrapper.addChild(this.container.hit),this.root.addChild(this.container.wrapper)},animate:function(){var a=this,t=this.sprites.umbrella;this.umbrella={pos:{x:t.position.x,y:t.position.y},size:{w:t.width,h:t.height}};var o,i=this.datas.cartoon.clip;tool.fadeIn({sprite:this.sprites.star,data:i.star,onComplete:function(){var t=tool.fadeIn({sprite:a.sprites.star_hl,data:i.star_hl,onComplete:function(){4==curPage&&(a.textContainerAnimate.start(),o=new TWEEN.Tween({alpha:1}).to({alpha:[.4,1]},6e3).onUpdate(function(t){a.sprites.star_hl.alpha=t.alpha,a.sprites.light1.alpha=t.alpha,a.sprites.light2.alpha=t.alpha}).repeat(1/0).start(),a.animateGroup.push(o))}}),e=new TWEEN.Tween({alpha:0}).to({alpha:1},i.star_hl.move.speed).onUpdate(function(t){a.sprites.light1.alpha=t.alpha,a.sprites.light2.alpha=t.alpha}).start();a.animateGroup.push(t,e)}});a.startHit();var e=setTimeout(function(){clearTimeout(e),a.starLight()},2e3);this.sprites.umbrella.anchor.set(.5,250/276),this.sprites.umbrella.position.set(a.sprites.umbrella.position.x+.5*a.sprites.umbrella.width,a.sprites.umbrella.position.y+250*a.sprites.umbrella.height/276);var n=new TWEEN.Tween({rotation:0}).to({rotation:[10*-Math.PI/180,0,10*Math.PI/180,0]},4e3).onUpdate(function(t){a.sprites.umbrella.rotation=t.rotation}).repeat(1/0),r=setTimeout(function(){clearTimeout(r),n.start()},1500);this.animateGroup=[n]},hitPoint:{left:[{x:160,y:234.5},{x:134,y:225.5},{x:106,y:214.5},{x:122,y:220.5},{x:79,y:200.5},{x:43,y:175.5},{x:29,y:164}],right:[{x:247,y:248.5},{x:289,y:248.5},{x:324,y:245.5},{x:352,y:240.5},{x:391,y:229.5},{x:418,y:224}]},startHit:function(){var t=this,e=0;this.x_type=[[2,1],[1,4]],this.posIndex=[0,0],this.inArea=[0,0],this.hitTimer=tool.requestInterval(function(){t.hit(e),e++},170)},hit:function(t){var e=this,a=t%2==0?0:1,o={},i={},n={},r=this.datas.xingqiu,s=this.inArea[a]%2;this.inArea[a]++;var h=this.x_type[a][s]%4+1;this.x_type[a][s]++;var p=r.clip["x"+h],l=new Texture(PIXI.BaseTexture.fromImage(r.img)),d=new Rectangle(p.x,p.y,p.width,p.height);l.frame=d;var g=new Sprite(l),c=s?tool.random(1200,1500):tool.random(2500,3e3),m=tool.random(500,1e3);if(0==a)if(s){var u=this.posIndex[a]%(this.hitPoint.left.length-1);this.posIndex[a]++;var y=this.hitPoint.left[u];o.x=y.x,o.y=this.umbrella.size.h-y.y+this.umbrella.pos.y+.4*g.height,i.x=-30,i.y=-30}else o.x=-tool.random(0,176-g.width),o.y=836;else if(s){u=this.posIndex[a]%(this.hitPoint.right.length-1);this.posIndex[a]++;y=this.hitPoint.right[u];var x=tool.random(1,2);o.x=y.x,o.y=this.umbrella.size.h-y.y+this.umbrella.pos.y+g.height*x*.1,i.x=tool.random(10,20),i.y=-tool.random(50,60),i.x=i.x*x*.1*10,i.y=i.y+.1*x*20}else o.x=tool.random(525,575),o.y=836;g.alpha=0,g.anchor.set(.5,.5),g.position.x=o.x-p.point.x,g.width,g.position.y=g.position.y+.5*g.height,this.container.hit.addChild(g),n.scale=.1*tool.random(6,10),o.scale=n.scale-.1*tool.random(2,4),new TWEEN.Tween({alpha:0}).to({alpha:1},500).onUpdate(function(t){g.alpha=t.alpha}).delay(m).start(),new TWEEN.Tween({scale:n.scale,y:p.pos.y,rotation:0}).to({scale:o.scale,y:o.y,rotation:2*Math.PI},c).easing(TWEEN.Easing.Sinusoidal.In).delay(m).onUpdate(function(t){g.scale.set(t.scale),g.position.y=t.y,g.rotation=t.rotation}).onComplete(function(){s&&new TWEEN.Tween({rotation:0,alpha:1,x:g.position.x,y:g.position.y}).to({rotation:0==a?40*-Math.PI/180:40*Math.PI/180,alpha:0,x:g.position.x+i.x,y:g.position.y+i.y},400).easing(TWEEN.Easing.Sinusoidal.Out).onStart(function(){g.anchor.set(.5,1),g.position.set(g.position.x,g.position.y+g.height)}).onUpdate(function(t){g.rotation=t.rotation,g.alpha=t.alpha,g.position.set(t.x,t.y+g.height)}).onComplete(function(){e.container.hit.removeChild(g)}).start()}).start(),s||new TWEEN.Tween({alpha:1}).to({alpha:0},500).delay(m+c-300).onUpdate(function(t){g.alpha=t.alpha}).onComplete(function(){e.container.hit.removeChild(g)}).start()},light:{left:{x:125,y:486},right:{x:634,y:426}},starLight:function(t){var a=this;this.lightTimer=tool.requestInterval(function(){for(var t=tool.random(2,5),e=0;e<t;e++)a.createLight(0),a.createLight(1)},400)},createLight:function(t){var e,a=this,o={},i={};if(0==t)if(o.x=a.sprites.umbrella.getBounds().x,o.y=this.light.left.y,-6<(e=tool.random(-50,50))&&e<6)i.x=o.x;else{var n=0<e?tool.random(e,e+50):tool.random(e-60,e);i.x=[o.x-e,o.x-n]}else if(o.x=this.light.right.x,o.y=this.light.right.y,-10<(e=tool.random(-75,0)))i.x=o.x;else{n=0<e?tool.random(e,e+100):tool.random(e-60,e);i.x=[o.x-e,o.x-n]}i.y=833;var r=new Graphics;r.beginFill(16443905),r.drawCircle(0,0,tool.random(3,5)),r.endFill(),r.alpha=0,this.container.light.addChild(r),o.scale=.1*tool.random(8,10),i.scale=.1*tool.random(2,4);var s=tool.random(0,1e3);new TWEEN.Tween({alpha:0}).to({alpha:1},250).delay(s).onUpdate(function(t){r.alpha=t.alpha}).start(),new TWEEN.Tween({x:o.x,y:o.y,scale:o.scale}).to({x:i.x,y:i.y,scale:i.scale},2e3).delay(s).onUpdate(function(t){r.scale.set(t.scale),r.position.set(t.x,t.y)}).onComplete(function(t){new TWEEN.Tween({alpha:1}).to({alpha:0},400).onUpdate(function(t){r.alpha=t.alpha}).onComplete(function(){a.container.light.removeChild(r)}).start()}).start()},destory:function(){tool.destory.call(this),tool.clearInterval(this.lightTimer),tool.clearInterval(this.hitTimer)},renderText:function(){renderText.call(this,[{text:"四月·守护",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"四月，雨季悄悄来临",y:245},{text:"种下一颗小星星",y:195},{text:"“你可一定要发芽啊”",y:145}])}},5:{containerGroup:["main","bg","footer"],animate:{},start:function(){tool.createContainer.call(this),this.render(),this.renderText(),animate.call(this)},render:function(){var t=this,e=august[5],a=this.container.main,o=this.container.footer,i=(this.container.bg,this.animate),n=(new Sprite,new Sprite(TextureCache[e.hailang.img]));n.position.set(e.hailang.pos.x,e.hailang.pos.y),new Sprite(TextureCache[e.bg.img]).position.set(e.bg.pos.x,e.bg.pos.y);var r=new Sprite(TextureCache[e.x1.img]);r.position.set(e.x1.pos.x,e.x1.pos.y),r.rotation=e.x1.pos.rotate,r.anchor.set(e.x1.rotateAnchor[0],e.x1.rotateAnchor[1]);var s=new Sprite(TextureCache[e.x2.img]);s.position.set(e.x2.pos.x,e.x2.pos.y),s.rotation=e.x2.pos.rotate,s.anchor.set(e.x2.rotateAnchor[0],e.x2.rotateAnchor[1]);var h=new Sprite(TextureCache[e.x3.img]);h.position.set(e.x3.pos.x,e.x3.pos.y),h.rotation=e.x3.pos.rotate,h.anchor.set(e.x3.rotateAnchor[0],e.x3.rotateAnchor[1]);var p=new Sprite(TextureCache[e.x4.img]);p.position.set(e.x4.pos.x,e.x4.pos.y),p.rotation=e.x4.pos.rotate,p.anchor.set(e.x4.rotateAnchor[0],e.x4.rotateAnchor[1]);var l=new Sprite(TextureCache[e.flyPig.img]);l.position.set(e.flyPig.pos.x,e.flyPig.pos.y);var d=new Sprite(TextureCache[e.douwa.img]);d.position.set(e.douwa.pos.x,e.douwa.pos.y),d.alpha=e.douwa.alpha;var g=new Sprite(TextureCache[e.bomi.img]);g.position.set(e.bomi.pos.x,e.bomi.pos.y),g.alpha=e.bomi.alpha;var c=new Sprite(TextureCache[e.yaya.img]);c.position.set(e.yaya.pos.x,e.yaya.pos.y),c.alpha=e.yaya.alpha;var m=new Sprite(TextureCache[e.oulian.img]);m.position.set(e.oulian.pos.x,e.oulian.pos.y),m.alpha=e.oulian.alpha;var u=new Sprite(TextureCache[e.zhuaigen.img]);u.position.set(e.zhuaigen.pos.x,e.zhuaigen.pos.y),u.alpha=e.zhuaigen.alpha;var y=new Sprite(TextureCache[e.star.img]);y.position.set(e.star.pos.x,e.star.pos.y);var x=new Sprite(TextureCache[e.starlight.img]);x.position.set(e.starlight.pos.x,e.starlight.pos.y),new TWEEN.Tween({rotate:e.x1.pos.rotate}).to({rotate:e.x1.move.rotate},e.x1.speed).onUpdate(function(t){r.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start();var w=new TWEEN.Tween({rotate:e.x2.pos.rotate}).to({rotate:e.x2.move.rotate},e.x2.speed).onUpdate(function(t){s.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),f=new TWEEN.Tween({rotate:e.x3.pos.rotate}).to({rotate:e.x3.move.rotate},e.x3.speed).onUpdate(function(t){h.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),v=new TWEEN.Tween({rotate:e.x4.pos.rotate}).to({rotate:e.x4.move.rotate},e.x4.speed).onUpdate(function(t){p.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),T=new TWEEN.Tween({y:e.flyPig.pos.y}).to({y:e.flyPig.move.y},e.flyPig.speed).onUpdate(function(t){l.y=t.y}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start();i.douwa=new TWEEN.Tween({alpha:e.douwa.pos.alpha}).to({alpha:e.douwa.move.alpha}).onUpdate(function(t){d.alpha=t.alpha}).start(),i.bomi=new TWEEN.Tween({alpha:e.bomi.pos.alpha}).to({alpha:e.bomi.move.alpha}).onUpdate(function(t){g.alpha=t.alpha}).start(),i.yaya=new TWEEN.Tween({alpha:e.yaya.pos.alpha}).to({alpha:e.yaya.move.alpha}).onUpdate(function(t){c.alpha=t.alpha}).start(),i.oulian=new TWEEN.Tween({alpha:e.oulian.pos.alpha}).to({alpha:e.oulian.move.alpha}).onUpdate(function(t){m.alpha=t.alpha}).onComplete(function(){t.textContainerAnimate.start()}).start(),i.starlight=new TWEEN.Tween({alpha:e.starlight.pos.alpha}).to({alpha:e.starlight.move.alpha},e.starlight.speed).onUpdate(function(t){x.alpha=t.alpha}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),a.addChild(r),a.addChild(s),a.addChild(h),a.addChild(p),a.addChild(l),a.addChild(d),a.addChild(g),a.addChild(c),a.addChild(m),a.addChild(u),a.addChild(y),a.addChild(x),o.addChild(n,a),this.root.addChild(o),this.animateGroup=[i.starlight,w,f,v,T,i.oulian,i.douwa,i.yaya,i.bomi]},renderText:function(){renderText.call(this,[{text:"五月·探索",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"远方的星灯若隐若现，发出迷人的光",y:245},{text:"我们大步前行，迈向未知的旅途",y:195},{text:"期待吧，一起遇见更美好的风景",y:145}])},destory:function(){tool.destory.call(this)}},6:{containerGroup:["main","bg","park","actor","wheel","textContainer","fireContainer"],start:function(){tool.createContainer.call(this),this.render(),this.renderBasket(),this.renderText(),animate.call(this)},render:function(){var t=this.container.main,e=this.container.bg,a=this.container.park,o=this.container.actor,i=this.container.wheel,n=this.container.fireContainer,r=august[6],s=new Sprite(TextureCache[r.feiChe.img]);s.position.set(r.feiChe.pos.x,r.feiChe.pos.y);var h=new Sprite(TextureCache[r.muMa.img]);h.position.set(r.muMa.pos.x,r.muMa.pos.y);var p=new Sprite(TextureCache[r.chengBao.img]);p.position.set(r.chengBao.pos.x,r.chengBao.pos.y);var l=new Sprite(TextureCache[r.caidaiFooter.img]);l.position.set(r.caidaiFooter.pos.x,r.caidaiFooter.pos.y+2*sizeObj.rootY);var d=new Sprite(TextureCache[r.caiDai.img]);d.position.set(r.caiDai.pos.x,r.caiDai.pos.y);var g=new Sprite(TextureCache[r.star1.img]);g.position.set(r.star1.pos.x,r.star1.pos.y),g.scale.set(r.star1.scale);var c=new Sprite(TextureCache[r.douBo.img]);c.position.set(r.douBo.pos.x,r.douBo.pos.y);var m=new Sprite(TextureCache[r.oulian.img]);m.position.set(r.oulian.pos.x+m.width*r.oulian.rotateAnchor[0],r.oulian.pos.y+m.height*r.oulian.rotateAnchor[1]),m.rotation=r.oulian.pos.rotate,m.anchor.set(r.oulian.rotateAnchor[0],r.oulian.rotateAnchor[1]);var u=new Sprite(TextureCache[r.yaya.img]);u.position.set(r.yaya.pos.x+u.width*r.yaya.rotateAnchor[0],r.yaya.pos.y+u.height*r.yaya.rotateAnchor[1]),u.rotation=r.yaya.pos.rotate,u.anchor.set(r.yaya.rotateAnchor[0],r.yaya.rotateAnchor[1]);var y=new Sprite(TextureCache[r.pig.img]);y.position.set(r.pig.pos.x+y.width*r.pig.rotateAnchor[0],r.pig.pos.y+y.height*r.pig.rotateAnchor[1]),y.rotation=r.pig.pos.rotate,y.anchor.set(r.pig.rotateAnchor[0],r.pig.rotateAnchor[1]);var x=new Sprite(TextureCache[r.sg1.img]);x.position.set(r.sg1.pos.x,r.sg1.pos.y);var w=new Sprite(TextureCache[r.sg2.img]);w.position.set(r.sg2.pos.x,r.sg2.pos.y);var f=new Sprite(TextureCache[r.xingyun.img]);f.position.set(r.xingyun.pos.x,r.xingyun.pos.y),f.alpha=r.xingyun.alpha;var v=new Sprite(TextureCache[r.zhijia.img]);v.position.set(r.zhijia.pos.x,r.zhijia.pos.y);var T=new Sprite(TextureCache[r.ferrisWheel.img]);i.position.set(r.ferrisWheel.pos.x+97,r.ferrisWheel.pos.y+97),i.pivot.set(97,97);var b=new TWEEN.Tween({rotate:r.oulian.pos.rotate}).to({rotate:r.oulian.move.rotate},r.oulian.speed).onUpdate(function(t){m.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),E=new TWEEN.Tween({rotate:r.yaya.pos.rotate}).to({rotate:r.yaya.move.rotate},r.yaya.speed).onUpdate(function(t){u.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),C=new TWEEN.Tween({rotate:r.pig.pos.rotate}).to({rotate:r.pig.move.rotate},r.pig.speed).onUpdate(function(t){y.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),P=new TWEEN.Tween({alpha:r.xingyun.alpha}).to({alpha:r.xingyun.move.alpha},r.xingyun.speed).onUpdate(function(t){f.alpha=t.alpha}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),I=new TWEEN.Tween({rotate:r.ferrisWheel.pos.rotate}).to({rotate:r.ferrisWheel.move.rotate},r.ferrisWheel.speed).onUpdate(function(t){i.rotation=t.rotate}).repeat(1/0).start();this.renderFireWorks(),i.addChild(T),o.addChild(f,g,c,m,u,y,x,w),a.addChild(s,i,v,h,p),e.addChild(l,d,n),t.addChild(e,a,o),this.root.addChild(t),this.animateGroup=[b,E,C,P,I]},renderBasket:function(){var t=this.container.wheel,e=(new Container,this.container.textContainer),a=august[6],o=new Sprite(TextureCache[a.basket1.img]);o.position.set(a.basket1.pos.x+o.width*a.basket1.rotateAnchor[0],a.basket1.pos.y+o.height*a.basket1.rotateAnchor[1]),o.anchor.set(a.basket1.rotateAnchor[0],a.basket1.rotateAnchor[1]),o.rotation=a.basket1.rotation;var i=new Sprite(TextureCache[a.basket2.img]);i.position.set(a.basket2.pos.x+i.width*a.basket2.rotateAnchor[0],a.basket2.pos.y+i.height*a.basket2.rotateAnchor[1]),i.anchor.set(a.basket2.rotateAnchor[0],a.basket2.rotateAnchor[1]),i.rotation=a.basket2.rotation;var n=new Sprite(TextureCache[a.basket3.img]);n.position.set(a.basket3.pos.x+n.width*a.basket3.rotateAnchor[0],a.basket3.pos.y+n.height*a.basket3.rotateAnchor[1]),n.anchor.set(a.basket3.rotateAnchor[0],a.basket3.rotateAnchor[1]),n.rotation=a.basket3.rotation;var r=new Sprite(TextureCache[a.basket4.img]);r.position.set(a.basket4.pos.x+r.width*a.basket4.rotateAnchor[0],a.basket4.pos.y+r.height*a.basket4.rotateAnchor[1]),r.anchor.set(a.basket4.rotateAnchor[0],a.basket4.rotateAnchor[1]),r.rotation=a.basket4.rotation;var s=new Sprite(TextureCache[a.basket5.img]);s.position.set(a.basket5.pos.x+s.width*a.basket5.rotateAnchor[0],a.basket5.pos.y+s.height*a.basket5.rotateAnchor[1]),s.anchor.set(a.basket5.rotateAnchor[0],a.basket5.rotateAnchor[1]),s.rotation=a.basket5.rotation;var h=new Sprite(TextureCache[a.basket6.img]);h.position.set(a.basket6.pos.x+h.width*a.basket6.rotateAnchor[0],a.basket6.pos.y+h.height*a.basket6.rotateAnchor[1]),h.anchor.set(a.basket6.rotateAnchor[0],a.basket6.rotateAnchor[1]),h.rotation=a.basket6.rotation;var p=new TWEEN.Tween({rotate:a.basket1.pos.rotate}).to({rotate:a.basket1.move.rotate},a.basket1.speed).onUpdate(function(t){o.rotation=t.rotate}).repeat(1/0).start(),l=new TWEEN.Tween({rotate:a.basket2.pos.rotate}).to({rotate:a.basket2.move.rotate},a.basket2.speed).onUpdate(function(t){i.rotation=t.rotate}).repeat(1/0).start(),d=new TWEEN.Tween({rotate:a.basket3.pos.rotate}).to({rotate:a.basket3.move.rotate},a.basket3.speed).onUpdate(function(t){n.rotation=t.rotate}).repeat(1/0).start(),g=new TWEEN.Tween({rotate:a.basket4.pos.rotate}).to({rotate:a.basket4.move.rotate},a.basket4.speed).onUpdate(function(t){r.rotation=t.rotate}).repeat(1/0).start(),c=new TWEEN.Tween({rotate:a.basket5.pos.rotate}).to({rotate:a.basket5.move.rotate},a.basket5.speed).onUpdate(function(t){s.rotation=t.rotate}).repeat(1/0).start(),m=new TWEEN.Tween({rotate:a.basket6.pos.rotate}).to({rotate:a.basket6.move.rotate},a.basket6.speed).onUpdate(function(t){h.rotation=t.rotate}).repeat(1/0).start();t.addChild(o,i,n,r,s,h),this.other.addChild(e),this.animateGroup.push(p,l,d,g,c,m)},renderFireWorks:function(){var a=this,t=this.container.fireContainer,o=new PIXI.Graphics,e=[12426308,45730,8762740,13327723,14266954],i=40,n=0,r=[],s=[];function h(t,e){return Math.random()*(e-t)+t}function p(t,e,a,o){var i=t-a,n=e-o;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}function l(t,e,a,o){for(this.x=t,this.y=e,this.sx=t,this.sy=e,this.tx=a,this.ty=o,this.distanceToTarget=p(t,e,a,o),this.distanceTraveled=0,this.coordinates=[],this.coordinatesCount=3;this.coordinatesCount--;)this.coordinates.push([this.x,this.y]);this.angle=Math.atan2(o-e,a-t),this.speed=2,this.acceleration=1.05,this.brightness=h(50,70),this.targetRadius=1}function d(t,e){for(this.x=t,this.y=e,this.coordinates=[],this.coordinatesCount=7;this.coordinatesCount--;)this.coordinates.push([this.x,this.y]);this.angle=h(0,2*Math.PI),this.speed=h(2,8),this.friction=.95,this.gravity=1,this.alpha=1,this.decay=h(.015,.03)}l.prototype.update=function(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.targetRadius<8?this.targetRadius+=.3:this.targetRadius=1,this.speed*=this.acceleration;var e=Math.cos(this.angle)*this.speed,a=Math.sin(this.angle)*this.speed;this.distanceTraveled=p(this.sx,this.sy,this.x+e,this.y+a),this.distanceTraveled>=this.distanceToTarget?(!function(t,e){var a=30;for(;a--;)s.push(new d(t,e))}(this.tx,this.ty),r.splice(t,1)):(this.x+=e,this.y+=a)},l.prototype.draw=function(){o.beginFill(),o.lineStyle(2,e[Math.floor(Math.random()*e.length)],1),o.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),o.lineTo(this.x,this.y),o.endFill()},d.prototype.update=function(t){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=this.decay&&s.splice(t,1)},d.prototype.draw=function(){o.beginFill(),o.lineStyle(2,e[Math.floor(Math.random()*e.length)],1),o.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),o.lineTo(this.x,this.y),o.endFill()},function t(){a.fireTimer=requestAnimationFrame(t),o.clear();for(var e=r.length;e--;)r[e].draw(),r[e].update(e);for(e=s.length;e--;)s[e].draw(),s[e].update(e);i<=n?(r.push(new l(tool.random(244,646),417,tool.random(244,646),tool.random(20,161))),n=0):n++}(),t.addChild(o)},renderText:function(){renderText.call(this,[{text:"六月·发现",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"烟火绽放打破夜空的寂静",y:245},{text:"摩天轮和木马在我眼前欢乐地旋转",y:195},{text:"我不停下脚步，终会发现美丽的新世界",y:145}],!1),this.textContainerAnimate.start()},destory:function(){tool.destory.call(this),tool.clearInterval(this.fireTimer)}},7:{containerGroup:["main"],start:function(){tool.createContainer.call(this),this.render(),this.renderText(),animate.call(this)},render:function(){var t,e=this.container.main,a=august[7],o=new Sprite(TextureCache[a.startBg2.img]),i=(new Sprite(TextureCache[a.startBg.img]),new Sprite(TextureCache[a.oulianActor.img])),n=new Sprite(TextureCache[a.douwaActor.img]),r=new Sprite(TextureCache[a.yayaActor.img]),s=new Sprite(TextureCache[a.pigActor.img]),h=new Sprite(TextureCache[a.bomiActor.img]);i.position.set(a.oulianActor.position.x+i.width*a.oulianActor.rotateAnchor[0],a.oulianActor.position.y+i.height*a.oulianActor.rotateAnchor[1]),i.anchor.set(a.oulianActor.rotateAnchor[0],a.oulianActor.rotateAnchor[1]),n.position.set(a.douwaActor.position.x+a.douwaActor.width*a.douwaActor.rotateAnchor[0],a.douwaActor.position.y+n.height*a.douwaActor.rotateAnchor[1]),n.anchor.set(a.douwaActor.rotateAnchor[0],a.douwaActor.rotateAnchor[1]),r.position.set(a.yayaActor.position.x+a.yayaActor.width*a.yayaActor.rotateAnchor[0],a.yayaActor.position.y+n.height*a.yayaActor.rotateAnchor[1]),r.anchor.set(a.yayaActor.rotateAnchor[0],a.yayaActor.rotateAnchor[1]),s.position.set(a.pigActor.position.x+a.pigActor.width*a.pigActor.rotateAnchor[0],a.pigActor.position.y+a.pigActor.height*a.pigActor.rotateAnchor[1]),s.anchor.set(a.pigActor.rotateAnchor[0],a.pigActor.rotateAnchor[1]),h.position.set(a.bomiActor.position.x,a.bomiActor.position.y),o.position.set(a.startBg2.position.x,a.startBg2.position.y);var p=new TWEEN.Tween({x:a.oulianActor.position.x,y:a.oulianActor.position.y,rotate:a.oulianActor.position.rotate}).to({x:a.oulianActor.move.x,y:a.oulianActor.move.y,rotate:a.oulianActor.move.rotate},a.oulianActor.move.speed).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(t){i.position.x=t.x,i.position.y=t.y,i.rotation=t.rotate}).repeat(1/0).start(),l=new TWEEN.Tween({x:a.douwaActor.position.x,y:a.douwaActor.position.y,rotate:a.douwaActor.position.rotate}).to({x:a.douwaActor.move.x,y:a.douwaActor.move.y,rotate:a.douwaActor.move.rotate},a.douwaActor.move.speed).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(t){n.position.x=t.x,n.position.y=t.y,n.rotation=t.rotate}).repeat(1/0).start(),d=new TWEEN.Tween({x:a.yayaActor.position.x,y:a.yayaActor.position.y,rotate:a.yayaActor.position.rotate}).to({x:a.yayaActor.move.x,y:a.yayaActor.move.y,rotate:a.yayaActor.move.rotate},a.yayaActor.move.speed).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(t){r.position.x=t.x,r.position.y=t.y,r.rotation=t.rotate}).repeat(1/0).start(),g=new TWEEN.Tween({x:a.pigActor.position.x,y:a.pigActor.position.y,rotate:a.pigActor.position.rotate}).to({x:a.pigActor.move.x,y:a.pigActor.move.y,rotate:a.pigActor.move.rotate},a.pigActor.move.speed).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(t){s.position.x=t.x,s.position.y=t.y,s.rotation=t.rotate}).repeat(1/0).start(),c=new TWEEN.Tween({x:a.bomiActor.position.x,y:a.bomiActor.position.y,rotate:a.bomiActor.position.rotate}).to({x:a.bomiActor.move.x,y:a.bomiActor.move.y,rotate:a.bomiActor.move.rotate},a.bomiActor.move.speed).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(t){h.position.x=t.x,h.position.y=t.y,h.rotation=t.rotate}).repeat(1/0).start();t=this.liuxing(),e.addChild(o),e.addChild(t),e.addChild(i),e.addChild(r),e.addChild(n),e.addChild(s),e.addChild(h),this.root.addChild(e),this.animateGroup=[p,l,d,g,c]},liuxing:function(){for(var a,t=new Container,o=sizeObj.windowWidth,i=sizeObj.windowHeight,n=new PIXI.Graphics,r=[],s=10,e=0;e<s;e++){var h={x:Math.round(Math.random()*o),y:Math.round(Math.random()*i),r:2*Math.random(),ra:.05*Math.random(),alpha:Math.random(),vx:.2*Math.random()-.1,vy:.2*Math.random()-.1};r.push(h)}function p(){n.clear();for(var t=0;t<s;t++){var e=r[t];t==a&&(e.vx=-5,e.vy=30,n.lineStyle(e.r,16777215,e.alpha),n.moveTo(e.x,e.y),n.lineTo(e.x+e.vx,e.y+e.vy)),e.alpha+=e.ra,e.alpha<=0?(e.alpha=0,e.ra=-e.ra,e.vx=.2*Math.random()-.1,e.vy=.2*Math.random()-.1):1<e.alpha&&(e.alpha=1,e.ra=-e.ra),e.x+=e.vx,e.x>=o?e.x=0:e.x<0&&(e.x=o,e.vx=.2*Math.random()-.1,e.vy=.2*Math.random()-.1),e.y+=e.vy,e.y>=i?(e.y=0,e.vy=.2*Math.random()-.1,e.vx=.2*Math.random()-.1):e.y<0&&(e.y=i)}}return this.timer=setInterval(p,33),function t(){var e=setTimeout(function(){clearTimeout(e),a=Math.ceil(Math.random()*r.length),t()},2e3)}(),p(),t.addChild(n),t},renderText:function(){renderText.call(this,[{text:"七月·游玩",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"旋转木马不停荡漾，他们都说我在原地打转",y:245},{text:"其实我没想过追上前面的马，也不遗憾时光流转",y:195},{text:"我幻想自己正与其飞翔，我乐在其中",y:145}],!1),this.textContainerAnimate.start()},destory:function(){tool.destory.call(this),clearInterval(this.timer)}},8:{containerGroup:["main"],start:function(){var t=this;tool.createContainer.call(this),this.renderAugust(),animate.call(this);var e=setTimeout(function(){clearTimeout(e),SpriteCtrl.start(t.root),t.renderText()},600)},renderAugust:function(){var t=this.container.main,e=august[8],a=new Sprite(TextureCache[e.x1.img]),o=new Sprite(TextureCache[e.x2.img]),i=new Sprite(TextureCache[e.x3.img]),n=new Sprite(TextureCache[e.x4.img]),r=new Sprite(TextureCache[e.x5.img]),s=new Sprite(TextureCache[e.x6.img]),h=new Sprite(TextureCache[e.x7.img]),p=new Sprite(TextureCache[e.coaster.img]);a.position.set(e.x1.position.x,e.x1.position.y),o.position.set(e.x2.position.x,e.x2.position.y),i.position.set(e.x3.position.x,e.x3.position.y),n.position.set(e.x4.position.x+n.width/2,e.x4.position.y+r.height/2),r.position.set(e.x5.position.x+r.width/2,e.x5.position.y+r.height/2),s.position.set(e.x6.position.x+s.width/2,e.x6.position.y),h.position.set(e.x7.position.x,e.x7.position.y),p.position.set(e.coaster.position.x,e.coaster.position.y),a.rotation=e.x1.position.rotate,a.anchor.set(.5,0),o.anchor.set(.5,0),i.rotation=e.x3.position.rotate,i.anchor.set(.8,.1),n.anchor.set(.42,.6232),r.anchor.set(.5,.5),s.rotation=10/180*Math.PI,s.anchor.set(.5,.5);var l=new TWEEN.Tween({rotation:e.x1.position.rotate}).to({rotation:e.x1.move.rotate},e.x1.speed).onUpdate(function(t){a.rotation=t.rotation}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),d=new TWEEN.Tween({rotation:0}).to({rotation:20/180*Math.PI},100).onUpdate(function(t){o.rotation=t.rotation}).onComplete(function(){o.rotation=20/180*Math.PI,g.start()}).start(),g=new TWEEN.Tween({rotation:20/180*Math.PI}).to({rotation:e.x2.move.rotate},1200).onUpdate(function(t){o.rotation=t.rotation}).repeat(1/0),c=new TWEEN.Tween({rotation:e.x3.position.rotate}).to({rotation:e.x3.move.rotate},e.x3.speed).onUpdate(function(t){i.rotation=t.rotation}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),m=new TWEEN.Tween({rotation:0}).to({rotation:e.x4.move.rotate},1e4).onUpdate(function(t){n.rotation=t.rotation}).repeat(1/0).start(),u=new TWEEN.Tween({rotation:0}).to({rotation:e.x5.move.rotate},1e4).onUpdate(function(t){r.rotation=t.rotation}).repeat(1/0).start(),y=new TWEEN.Tween({rotation:10/180*Math.PI}).to({rotation:e.x6.move.rotate},4e3).onUpdate(function(t){s.rotation=t.rotation}).repeat(1/0).start(),x=new TWEEN.Tween({y:e.x7.position.y}).to({y:e.x7.move.y},2e3).easing(TWEEN.Easing.Quadratic.InOut).onUpdate(function(t){h.position.y=t.y}).repeat(1/0).start();t.addChild(a),t.addChild(o),t.addChild(i),t.addChild(n),t.addChild(r),t.addChild(s),t.addChild(h),t.addChild(p),this.root.addChild(t),this.animateGroup=[l,d,c,m,u,y,x,g]},renderText:function(){renderText.call(this,[{text:"八月·狂欢",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"奔跑在巨大的游乐场，享受冲上云霄的豪爽",y:245},{text:"只要速度够快，烦恼就追不上我",y:195},{text:"于是整个世界，陪我一起狂欢",y:145}],!1),this.textContainerAnimate.start()},destory:function(){tool.destory.call(this)}},9:{containerGroup:["main","bg","star","pigStage","ferrisWheel","wheelSkeleton","ferrisWheelCircle"],start:function(){tool.createContainer.call(this),this.render(),this.renderText(),animate.call(this)},render:function(){var t=this,e=this.container.main,a=(this.container.bg,this.container.star),o=this.container.pigStage,i=this.container.ferrisWheel,n=this.container.wheelSkeleton,r=this.container.ferrisWheelCircle,s=AnimateCtrl[7].liuxing(),h=august[9];i.position.set(247,61);var p=new Sprite(TextureCache[h.xing.img]);p.position.set(h.xing.pos.x,h.xing.pos.y);var l=new Sprite(TextureCache[h.xingGuang.img]);l.position.set(h.xingGuang.pos.x,h.xingGuang.pos.y);var d=new Sprite(TextureCache[h.xqred.img]);d.position.set(h.xqred.pos.x,h.xqred.pos.y);var g=new Sprite(TextureCache[h.xqGreen.img]);g.position.set(h.xqGreen.pos.x,h.xqGreen.pos.y),g.alpha=h.xqGreen.alpha;var c=new Sprite(TextureCache[h.xqBlue.img]);c.position.set(h.xqBlue.pos.x,h.xqBlue.pos.y),c.alpha=h.xqBlue.alpha;var m=new Sprite(TextureCache[h.pig.img]);m.position.set(h.pig.pos.x,h.pig.pos.y);var u=new Sprite(TextureCache[h.zhijia.img]);u.position.set(h.zhijia.pos.x,h.zhijia.pos.y);var y=new Sprite(TextureCache[h.dianzhui.img]);y.position.set(h.dianzhui.pos.x,h.dianzhui.pos.y);var x=new Sprite(TextureCache[h.moFaBang.img]);x.position.set(h.moFaBang.pos.x+x.width*h.moFaBang.rotateAnchor[0],h.moFaBang.pos.y+x.height*h.moFaBang.rotateAnchor[1]),x.rotation=h.moFaBang.pos.rotate,x.anchor.set(h.moFaBang.rotateAnchor[0],h.moFaBang.rotateAnchor[1]);var w=new Sprite(TextureCache[h.quanquan.img]);r.position.set(h.quanquan.pos.x+329.5,h.quanquan.pos.y+328-20),r.pivot.set(329.5,328),r.rotation=h.quanquan.pos.rotate,new Sprite(TextureCache[h.moXiang.img]).position.set(0,0);var f=new Sprite(TextureCache[h.basket1.img]);f.position.set(h.basket1.pos.x+f.width/2,h.basket1.pos.y+f.height/2),f.rotation=h.basket1.pos.rotate,f.anchor.set(h.basket1.rotateAnchor[0],h.basket1.rotateAnchor[1]);var v=new Sprite(TextureCache[h.basket2.img]);v.position.set(h.basket2.pos.x+v.width/2,h.basket2.pos.y+v.height/2),v.rotation=h.basket2.pos.rotate,v.anchor.set(h.basket2.rotateAnchor[0],h.basket2.rotateAnchor[1]);var T=new Sprite(TextureCache[h.basket3.img]);T.position.set(h.basket3.pos.x+T.width/2,h.basket3.pos.y+T.height/2),T.rotation=h.basket3.pos.rotate,T.anchor.set(h.basket3.rotateAnchor[0],h.basket3.rotateAnchor[1]);var b=new Sprite(TextureCache[h.basket4.img]);b.position.set(h.basket4.pos.x+b.width/2,h.basket4.pos.y+b.height/2),b.rotation=h.basket4.pos.rotate,b.anchor.set(h.basket4.rotateAnchor[0],h.basket4.rotateAnchor[1]);var E=new Sprite(TextureCache[h.basket5.img]);E.position.set(h.basket5.pos.x+E.width/2,h.basket5.pos.y+E.height/2),E.rotation=h.basket5.pos.rotate,E.anchor.set(h.basket5.rotateAnchor[0],h.basket5.rotateAnchor[1]);var C=new Sprite(TextureCache[h.basket6.img]);C.position.set(h.basket6.pos.x+C.width/2,h.basket6.pos.y+C.height/2),C.rotation=h.basket6.pos.rotate,C.anchor.set(h.basket6.rotateAnchor[0],h.basket6.rotateAnchor[1]);var P=new Sprite(TextureCache[h.basket7.img]);P.position.set(h.basket7.pos.x+P.width/2,h.basket7.pos.y+P.height/2),P.rotation=h.basket7.pos.rotate,P.anchor.set(h.basket7.rotateAnchor[0],h.basket7.rotateAnchor[1]);var I=new TWEEN.Tween({alpha:h.xingGuang.pos.alpha}).to({alpha:h.xingGuang.move.alpha},h.xingGuang.speed).onUpdate(function(t){l.alpha=t.alpha}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),k=new TWEEN.Tween({x:h.xqred.pos.x}).to({x:h.xqred.move.x},h.xqred.speed).onUpdate(function(t){d.position.x=t.x}).onComplete(function(){t.textContainerAnimate.start()}).start(),A=new TWEEN.Tween({alpha:h.xqGreen.pos.alpha}).to({alpha:h.xqGreen.move.alpha},h.xqGreen.speed).onUpdate(function(t){g.alpha=t.alpha}).start(),W=new TWEEN.Tween({rotate:h.moFaBang.pos.rotate}).to({rotate:h.moFaBang.move.rotate}).onUpdate(function(t){x.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),z=new TWEEN.Tween({rotate:h.quanquan.pos.rotate}).to({rotate:h.quanquan.move.rotate},h.quanquan.speed).onUpdate(function(t){w.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0),N=new TWEEN.Tween({rotate:0}).to({rotate:2*Math.PI},h.quanquan.speed).onUpdate(function(t){r.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0).start(),S=new TWEEN.Tween({rotate:h.basket1.pos.rotate}).to({rotate:h.basket1.move.rotate},h.basket1.speed).onUpdate(function(t){f.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0).start(),q=new TWEEN.Tween({rotate:h.basket2.pos.rotate}).to({rotate:h.basket2.move.rotate},h.basket2.speed).onUpdate(function(t){v.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0).start(),_=new TWEEN.Tween({rotate:h.basket3.pos.rotate}).to({rotate:h.basket3.move.rotate},h.basket3.speed).onUpdate(function(t){T.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0).start(),U=new TWEEN.Tween({rotate:h.basket4.pos.rotate}).to({rotate:h.basket4.move.rotate},h.basket4.speed).onUpdate(function(t){b.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0).start(),M=new TWEEN.Tween({rotate:h.basket5.pos.rotate}).to({rotate:h.basket5.move.rotate},h.basket5.speed).onUpdate(function(t){E.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0).start(),O=(M=new TWEEN.Tween({rotate:h.basket6.pos.rotate}).to({rotate:h.basket6.move.rotate},h.basket6.speed).onUpdate(function(t){C.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0).start(),new TWEEN.Tween({rotate:h.basket7.pos.rotate}).to({rotate:h.basket7.move.rotate},h.basket7.speed).onUpdate(function(t){P.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0).start());o.addChild(x,m),r.addChild(w,f,v,T,b,E,C,P),n.addChild(y,u),i.addChild(r,n,o),a.addChild(l,p,d,g,c),e.addChild(s,a,i),this.root.addChild(e),this.animateGroup=[I,k,A,W,z,N,S,q,_,U,M,O]},renderText:function(){renderText.call(this,[{text:"九月·休憩",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"我们都停下来休息一下好不好",y:245},{text:"像摩天轮慢悠悠的旋转，随太阳东升西落",y:195},{text:"偶尔也想偷半日闲暇，像小时候的漫漫暑假",y:145}])},destory:function(){tool.destory.call(this)}},10:{containerGroup:["main","bg","actor","shop","balloon","corner"],animate:{actor:{bomi:"",douwa:""}},start:function(){tool.createContainer.call(this),this.render(),this.renderText(),animate.call(this)},render:function(){var t=this,e=(this.container.bg,this.container.main),a=this.container.actor,o=this.container.shop,i=this.container.balloon,n=this.container.corner,r=this.animate,s=august[10];n.position.y=-80;var h=new Sprite(TextureCache[s.grass.img]);h.position.set(s.grass.pos.x,s.grass.pos.y);var p=new Sprite(TextureCache[s.canche.img]);p.position.set(s.canche.pos.x,s.canche.pos.y);var l=new Sprite(TextureCache[s.ground.img]);l.position.set(s.ground.pos.x,s.ground.pos.y);var d=new Sprite(TextureCache[s.naicha.img]);d.position.set(s.naicha.pos.x,s.naicha.pos.y);var g=new Sprite(TextureCache[s.bomi.img]);g.position.set(s.bomi.pos.x,s.bomi.pos.y),g.alpha=s.bomi.pos.alpha;var c=new Sprite(TextureCache[s.douwa.img]);c.position.set(s.douwa.pos.x,s.douwa.pos.y),c.alpha=s.douwa.pos.alpha;var m=new Sprite(TextureCache[s.yaya.img]);m.position.set(s.yaya.pos.x,s.yaya.pos.y),m.alpha=s.yaya.pos.alpha;var u=new Sprite(TextureCache[s.oulian.img]);u.position.set(s.oulian.pos.x,s.oulian.pos.y),u.alpha=s.oulian.pos.alpha;var y=new Sprite(TextureCache[s.zhuaigen.img]);y.position.set(s.zhuaigen.pos.x,s.zhuaigen.pos.y),y.alpha=s.zhuaigen.pos.alpha;var x=new Sprite(TextureCache[s.pig.img]);x.position.set(s.pig.pos.x+x.width*s.pig.rotateAnchor[0],s.pig.pos.y+x.height*s.pig.rotateAnchor[1]),x.anchor.set(s.pig.rotateAnchor[0],s.pig.rotateAnchor[1]),x.rotation=s.pig.pos.rotate;var w=new Sprite(TextureCache[s.dl.img]);w.position.set(s.dl.pos.x+w.width*s.dl.rotateAnchor[0],s.dl.pos.y+w.height*s.dl.rotateAnchor[1]),w.anchor.set(s.dl.rotateAnchor[0],s.dl.rotateAnchor[1]),w.rotation=s.dl.pos.rotate,i.position.set(36,142);var f=new Sprite(TextureCache[s.qshen.img]);f.position.set(s.qshen.pos.x,s.qshen.pos.y);var v=new Sprite(TextureCache[s.q1.img]);v.position.set(s.q1.pos.x+v.width*s.q1.rotateAnchor[0],s.q1.pos.y+v.height*s.q1.rotateAnchor[1]),v.rotation=s.q1.pos.rotate,v.anchor.set(s.q1.rotateAnchor[0],s.q1.rotateAnchor[1]);var T=new Sprite(TextureCache[s.q3.img]);T.position.set(s.q3.pos.x+T.width*s.q3.rotateAnchor[0],s.q3.pos.y+T.height*s.q3.rotateAnchor[1]),T.rotation=s.q3.pos.rotate,T.anchor.set(s.q3.rotateAnchor[0],s.q3.rotateAnchor[1]);var b=new Sprite(TextureCache[s.q2.img]);b.position.set(s.q2.pos.x+b.width*s.q2.rotateAnchor[0],s.q2.pos.y+b.height*s.q2.rotateAnchor[1]),b.rotation=s.q2.pos.rotate,b.anchor.set(s.q2.rotateAnchor[0],s.q2.rotateAnchor[1]);var E=new Sprite(TextureCache[s.q4.img]);E.position.set(s.q4.pos.x+E.width*s.q4.rotateAnchor[0],s.q4.pos.y+E.height*s.q4.rotateAnchor[1]),E.rotation=s.q4.pos.rotate,E.anchor.set(s.q4.rotateAnchor[0],s.q4.rotateAnchor[1]);var C=new Sprite(TextureCache[s.q5.img]);C.position.set(s.q5.pos.x+C.width*s.q5.rotateAnchor[0],s.q5.pos.y+C.height*s.q5.rotateAnchor[1]),C.rotation=s.q5.pos.rotate,C.anchor.set(s.q5.rotateAnchor[0],s.q5.rotateAnchor[1]);var P=new Sprite(TextureCache[s.q6.img]);P.position.set(s.q6.pos.x+P.width*s.q6.rotateAnchor[0],s.q6.pos.y+P.height*s.q6.rotateAnchor[1]),P.rotation=s.q6.pos.rotate,P.anchor.set(s.q6.rotateAnchor[0],s.q6.rotateAnchor[1]);var I=new Sprite(TextureCache[s.q7.img]);I.position.set(s.q7.pos.x+I.width*s.q7.rotateAnchor[0],s.q7.pos.y+I.height*s.q7.rotateAnchor[1]),I.rotation=s.q7.pos.rotate,I.anchor.set(s.q7.rotateAnchor[0],s.q7.rotateAnchor[1]);var k=new Sprite(TextureCache[s.q8.img]);k.position.set(s.q8.pos.x+k.width*s.q8.rotateAnchor[0],s.q8.pos.y+k.height*s.q8.rotateAnchor[1]),k.rotation=s.q8.pos.rotate,k.anchor.set(s.q8.rotateAnchor[0],s.q8.rotateAnchor[1]);var A=new Sprite(TextureCache[s.q9.img]);A.position.set(s.q9.pos.x+A.width*s.q9.rotateAnchor[0],s.q9.pos.y+A.height*s.q9.rotateAnchor[1]),A.rotation=s.q9.pos.rotate,A.anchor.set(s.q9.rotateAnchor[0],s.q9.rotateAnchor[1]),r.pig=new TWEEN.Tween({rotate:s.pig.pos.rotate}).to({rotate:s.pig.move.rotate},s.pig.speed).onUpdate(function(t){x.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),r.dl=new TWEEN.Tween({rotate:s.dl.pos.rotate}).to({rotate:s.dl.move.rotate},s.dl.speed).onUpdate(function(t){w.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),r.actor.bomi=new TWEEN.Tween({alpha:s.bomi.pos.alpha}).to({alpha:s.bomi.move.alpha},s.bomi.speed).onUpdate(function(t){g.alpha=t.alpha}).start(),r.actor.douwa=new TWEEN.Tween({alpha:s.douwa.pos.alpha}).to({alpha:s.douwa.move.alpha},s.douwa.speed).onUpdate(function(t){c.alpha=t.alpha}).start(),r.actor.yaya=new TWEEN.Tween({alpha:s.yaya.pos.alpha}).to({alpha:s.yaya.move.alpha},s.yaya.speed).onUpdate(function(t){m.alpha=t.alpha}).start(),r.actor.oulian=new TWEEN.Tween({alpha:s.oulian.pos.alpha}).to({alpha:s.oulian.move.alpha},s.oulian.speed).onUpdate(function(t){u.alpha=t.alpha}).start(),r.actor.zhuaigen=new TWEEN.Tween({alpha:s.zhuaigen.pos.alpha}).to({alpha:s.zhuaigen.move.alpha},s.zhuaigen.speed).onUpdate(function(t){y.alpha=t.alpha}).onComplete(function(){t.textContainerAnimate.start()}).start();var W=new TWEEN.Tween({y:140}).to({y:[142,140]},1200).onUpdate(function(t){i.y=t.y}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),z=new TWEEN.Tween({rotate:s.q1.pos.rotate}).to({rotate:s.q1.move.rotate},s.q1.speed).onUpdate(function(t){v.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),N=new TWEEN.Tween({rotate:s.q2.pos.rotate}).to({rotate:s.q2.move.rotate},s.q2.speed).onUpdate(function(t){b.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),S=new TWEEN.Tween({rotate:s.q3.pos.rotate}).to({rotate:s.q3.move.rotate},s.q3.speed).onUpdate(function(t){T.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),q=new TWEEN.Tween({rotate:s.q4.pos.rotate}).to({rotate:s.q4.move.rotate},s.q4.speed).onUpdate(function(t){E.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),_=new TWEEN.Tween({rotate:s.q5.pos.rotate}).to({rotate:s.q5.move.rotate},s.q5.speed).onUpdate(function(t){C.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),U=new TWEEN.Tween({rotate:s.q6.pos.rotate}).to({rotate:s.q6.move.rotate},s.q6.speed).onUpdate(function(t){P.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),M=new TWEEN.Tween({rotate:s.q7.pos.rotate}).to({rotate:s.q7.move.rotate},s.q7.speed).onUpdate(function(t){I.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),O=new TWEEN.Tween({rotate:s.q8.pos.rotate}).to({rotate:s.q8.move.rotate},s.q8.speed).onUpdate(function(t){k.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start(),j=new TWEEN.Tween({rotate:s.q9.pos.rotate}).to({rotate:s.q9.move.rotate},s.q9.speed).onUpdate(function(t){A.rotation=t.rotate}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Quadratic.InOut).repeat(1/0).start();a.addChild(g,c,m,u,y),o.addChild(x,p,l,d,w),i.addChild(f,C,T,E,v,b,k,P,A,I),n.addChild(o,a),e.addChild(n,h,i),this.root.addChild(e),this.animateGroup=[W,z,N,S,q,_,U,M,O,j,r.pig,r.dl,r.actor.bomi,r.actor.douwa,r.actor.yaya,r.actor.oulian,r.actor.zhuaigen]},renderText:function(){renderText.call(this,[{text:"十月·收获",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"走过四季，我们见证了欢笑的时刻",y:245},{text:"欣赏着朝阳的升起，凝视着花蕊的绽放",y:195},{text:"我们收获着生命之神的惠赠，满揣着祝福启程",y:145}])},destory:function(){tool.destory.call(this)}},11:{containerGroup:["wrapper","pig","star","bg","cartoon"],datas:august[11],group:{pig:["pig_hand","pig"],cartoon:["bomi","douwa","yaya","oulian","bomi","zhuaigen","chair"],bg:["c1","c2","c3"]},sprites:{},start:function(){tool.createContainer.call(this),this.render(),this.renderText(),this.animate(),animate.call(this)},animateGroup:[],render:function(){tool.render.call(this),this.container.pig.position.set(175,74),this.container.star.position.set(0,180),this.container.cartoon.position.set(222,643),this.container.wrapper.addChild(this.container.bg),this.container.wrapper.addChild(this.container.star),this.container.wrapper.addChild(this.container.pig),this.container.wrapper.addChild(this.container.cartoon),this.root.addChild(this.container.wrapper)},renderText:function(){renderText.call(this,[{text:"十一月·梦幻",y:370,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"挥动着的魔法棒，洒落点点星光",y:290},{text:"是小花在枝头舞蹈，是魔法在肩头闪耀",y:240},{text:"像灿灿宝石，在花丛里笑",y:190},{text:"我们沉醉于这梦幻的世界中",y:140}],!1),this.textContainerAnimate.start()},animate:function(){var o=this,t=new TWEEN.Tween({rotation:0}).to({rotation:[8*-Math.PI/180,0,8*Math.PI/180,0]},2e3).onStart(function(){var t=o.sprites.pig_hand.width,e=o.sprites.pig_hand.height;o.sprites.pig_hand.anchor.set(180/t,190/e),o.sprites.pig_hand.position.set(180+o.sprites.pig_hand.position.x,190+o.sprites.pig_hand.position.y)}).onUpdate(function(t){o.sprites.pig_hand.rotation=t.rotation}).repeat(1/0).start();this.startAnimate();var e=new TWEEN.Tween({rotation:0}).to({rotation:[6*Math.PI/180,0,6*-Math.PI/180,0]},2500).onStart(function(){for(var t=0;t<o.group.cartoon.length;t++){var e=o.group.cartoon[t];if("chair"!=e){var a=o.sprites[e];a.anchor.set(.5,.5),"bomi"==e?a.position.set(a.position.x+19,a.position.y+27):a.position.set(a.position.x+.5*a.width,a.position.y+.5*a.height)}}}).onUpdate(function(t){for(var e=0;e<o.group.cartoon.length;e++){var a=o.group.cartoon[e];if("chair"!=a)o.sprites[a].rotation=t.rotation}}).repeat(1/0).start();this.animateGroup.push(t,e)},star:{count:20,r:10,speed:6e3,color:16111616,interval:700},startAnimate:function(){var t=this;this.star.index=0,this.timer=tool.requestInterval(function(){t.star.index++,t.createStar()},this.star.interval)},createStar:function(t){var e,a=this,o=this.star.index%2?1:0,i={},n={};if(i.x=95,i.y=0,n.x=[54,i.x,136,i.x],n.y=627,0==o)(e=new Graphics).beginFill(this.star.color),e.drawCircle(0,0,this.star.r),e.endFill();else{var r=this.datas.pig_sprites,s=r.clip.star,h=new Texture(PIXI.BaseTexture.fromImage(r.img)),p=new Rectangle(s.x,s.y,s.width,s.height);h.frame=p,(e=new Sprite(h)).anchor.set(.5)}e.index=this.star.index,this.container.star.addChild(e);new TWEEN.Tween({alpha:0}).to({alpha:1},200).onUpdate(function(t){e.alpha=t.alpha}).start();var l=new TWEEN.Tween({alpha:0}).to({alpha:1},400).onUpdate(function(t){e.alpha=t.alpha}).start(),d=new TWEEN.Tween({alpha:1}).to({alpha:0},600).onUpdate(function(t){e.alpha=t.alpha}).delay(this.star.speed-400).start(),g=new TWEEN.Tween({rotation:0}).to({rotation:2*Math.PI},this.star.speed).onUpdate(function(t){e.rotation=t.rotation}).repeat(1/0).start(),c=new TWEEN.Tween({x:i.x}).to({x:n.x},this.star.speed/2).onUpdate(function(t){e.position.x=t.x}).repeat(1/0).start(),m=new TWEEN.Tween({y:i.y,scale:.3}).to({scale:1,y:n.y},this.star.speed).onUpdate(function(t){e.position.y=t.y,e.scale.set(t.scale)}).onComplete(function(){g.stop(),c.stop(),a.container.star.removeChild(e)}).start();this.animateGroup.push(l,d,g,c,m)},destory:function(){tool.destory.call(this),tool.clearInterval(this.timer)}},12:{containerGroup:["wrapper","bg","snow0","snow1","cartoon"],datas:august[12],group:{bg:["bg","m1","m2","m3"],cartoon:["light1","light2","book","douwa_left_hand","douwa_right_hand","douwa","douwa_full","bomi_full","bomi","bomi_hand","zhuaigen","oulian","yaya_full","yaya","yaya_qin","yaya_hand","pig1","pig2"]},sprites:{},animateGroup:[],start:function(){tool.createContainer.call(this),this.render(),this.renderText(),this.animate(),animate.call(this)},render:function(){tool.render.call(this),this.container.cartoon.position.set(0,414),this.container.wrapper.addChild(this.container.bg,this.container.snow0,this.container.cartoon),this.container.wrapper.addChild(this.container.snow1),this.root.addChild(this.container.wrapper)},renderText:function(){renderText.call(this,[{text:"十二月·终曲",y:315,style:{fontSize:36,fill:"#ffc000",stroke:"#000000",strokeThickness:6}},{text:"琴声悠扬，似有千言万语娓娓道来",y:235},{text:"放下手里的笔，合上手中的书",y:185},{text:"一起唱支歌吧，为这趟奇遇画上句点",y:135}],!1)},animate:function(){var t=this;tool.fadeIn({sprite:this.sprites.book,data:this.datas.cartoon2.clip.book,onComplete:function(){t.togather(),t.bookLight(),t.snowAnimate(),t.textContainerAnimate.start()}})},togather:function(){var t=this,e=this.datas.cartoon.clip,a=this.datas.cartoon2.clip,o=tool.fadeIn({sprite:this.sprites.bg,data:this.datas.bg}),i=tool.fadeIn({sprite:this.sprites.m1,data:a.m1}),n=tool.fadeIn({sprite:this.sprites.m2,data:a.m2});this.sprites.m3.rotation=a.m3.rotation;var r=tool.fadeIn({sprite:this.sprites.m3,data:a.m3}),s=tool.fadeIn({sprite:this.sprites.douwa_full,data:e.douwa_full,onComplete:function(){t.ctAnimate()}}),h=tool.fadeIn({sprite:this.sprites.bomi_full,data:e.bomi_full}),p=tool.fadeIn({sprite:this.sprites.oulian,data:a.oulian}),l=tool.fadeIn({sprite:this.sprites.yaya_full,data:e.yaya_full}),d=tool.fadeIn({sprite:this.sprites.zhuaigen,data:e.zhuaigen}),g=tool.fadeIn({sprite:this.sprites.pig1,data:e.pig1}),c=tool.fadeIn({sprite:this.sprites.pig2,data:e.pig2});this.animateGroup.push(o,i,n,r,s,h,p,l,d,g,c)},bookLight:function(){var t=this,e=tool.fadeIn({sprite:this.sprites.light1,data:this.datas.light1,onComplete:function(){tool.fadeIn({sprite:t.sprites.light1,data:{alpha:1,move:{speed:6e3,alpha:[.5,1]}},repeat:!0})}}),a=tool.fadeIn({sprite:this.sprites.light2,data:this.datas.light2,onComplete:function(){tool.fadeIn({sprite:t.sprites.light2,data:{alpha:1,move:{speed:6e3,alpha:[.5,1]}},repeat:!0})}});this.animateGroup.push(e,a)},ctAnimate:function(){var e=this,a=this.datas.cartoon.clip.yaya_hand,t=tool.fadeIn({sprite:this.sprites.yaya_hand,data:this.datas.cartoon.clip.yaya_hand,onComplete:function(){var t=new TWEEN.Tween({x:a.pos.x,y:a.pos.y}).to({x:a.swag.x,y:a.swag.y},a.swag.speed).onUpdate(function(t){e.sprites.yaya_hand.position.set(t.x,t.y)}).repeat(1/0).start();e.animateGroup.push(t)}});this.sprites.douwa_left_hand.alpha=1,this.sprites.douwa_right_hand.alpha=1,this.sprites.douwa.alpha=1,this.sprites.douwa_full.alpha=0;var o=new TWEEN.Tween({rotation:0}).to({rotation:[15*-Math.PI/180,0]},2e3).onStart(function(){e.sprites.douwa_left_hand.anchor.set(1,36/46),e.sprites.douwa_left_hand.position.set(e.sprites.douwa_left_hand.position.x+e.sprites.douwa_left_hand.width,e.sprites.douwa_left_hand.position.y+36*e.sprites.douwa_left_hand.height/46)}).onUpdate(function(t){e.sprites.douwa_left_hand.rotation=t.rotation}).repeat(1/0).start(),i=new TWEEN.Tween({rotation:0}).to({rotation:[20*Math.PI/180,0]},2e3).onStart(function(){e.sprites.douwa_right_hand.anchor.set(0,1),e.sprites.douwa_right_hand.position.set(e.sprites.douwa_right_hand.position.x,e.sprites.douwa_right_hand.position.y+e.sprites.douwa_right_hand.height)}).onUpdate(function(t){e.sprites.douwa_right_hand.rotation=t.rotation}).repeat(1/0).start(),n=this.datas.cartoon.clip.bomi_hand;this.container.cartoon.removeChild(this.sprites.bomi_full),this.sprites.bomi_hand.alpha=1,this.sprites.bomi.alpha=1;var r=new TWEEN.Tween({x:n.pos.x,y:n.pos.y}).to({x:n.swag.x,y:n.swag.y},n.swag.speed).onUpdate(function(t){e.sprites.bomi_hand.position.set(t.x,t.y)}).repeat(1/0).start(),s=new TWEEN.Tween({rotation:0}).to({rotation:[20*Math.PI/180,0,5*Math.PI/180,0]},2e3).onUpdate(function(t){e.sprites.m1.rotation=t.rotation}).delay(500).repeat(1/0).start(),h=this.datas.cartoon2.clip.m3,p=new TWEEN.Tween({rotation:h.rotation}).to({rotation:[60*Math.PI/180,h.rotation,20*Math.PI/180,h.rotation]},4e3).onUpdate(function(t){e.sprites.m3.rotation=t.rotation}).repeat(1/0).start();this.animateGroup.push(t,o,i,r,s,p)},snowAnimate:function(){var a=this;this.timer=tool.requestInterval(function(){for(var t=tool.random(10,20),e=0;e<t;e++)a.createSnow()},1e3)},createSnow:function(){var t=this,e={},a={},o=new Graphics,i=tool.random(2,6);o.beginFill(16777215),o.drawCircle(i,i,i),o.endFill(),o.alpha=0;var n=tool.random(0,1);this.container["snow"+n].addChild(o),e.x=tool.random(0,sizeObj.rootWidth),e.y=0;var r=tool.random(-1,1);a.x=[e.x-r*tool.random(50,100),e.x,e.x+r*tool.random(50,100)],a.y=tool.random(646,868),a.alpha=.1*tool.random(5,8);var s=tool.random(6e3,7e3),h=tool.random(0,1e3);new TWEEN.Tween({alpha:0}).to({alpha:a.alpha},200).delay(h).onUpdate(function(t){o.alpha=t.alpha}).start();var p=new TWEEN.Tween({x:e.x,y:e.y,scale:1}).to({x:a.x,y:a.y,scale:.3},s).delay(h).interpolation(TWEEN.Interpolation.Bezier).onUpdate(function(t){o.scale.set(t.scale),o.position.set(t.x,t.y)}).onComplete(function(){p.stop(),new TWEEN.Tween({alpha:a.alpha}).to({alpha:0},700).onUpdate(function(t){o.alpha=t.alpha}).onComplete(function(){t.container["snow"+n].removeChild(o)}).start()}).start()},destory:function(){tool.destory.call(this),tool.clearInterval(this.timer)}},13:{containerGroup:["main","textContainer","sprite","person"],start:function(){tool.createContainer.call(this),this.render(),animate.call(this)},render:function(){var t=this.container.main,e=this.container.textContainer,a=this.container.sprite,o=this.container.person,i=august[13];e.position.y=this.app.screen.height,e.alpha=1,o.alpha=0;var n={fontSize:38,fill:"#ffffff",align:"center",letterSpacing:4},r={fontSize:26,fill:"#a5a6a8",align:"center",letterSpacing:4},s=new PIXI.Text("这一支歌",n);s.position.x=this.app.screen.width/2,s.scale.set(1),s.anchor.x=.5;var h=new PIXI.Text("送给已抵达",n);h.position.x=this.app.screen.width/2,h.position.y=64,h.scale.set(1),h.anchor.x=.5;var p=new PIXI.Text("也送给再出发",n);p.position.x=this.app.screen.width/2,p.position.y=133,p.scale.set(1),p.anchor.x=.5;var l=new PIXI.Text("END",{fontSize:34,fill:"#ffffff",align:"center",letterSpacing:4});l.position.x=this.app.screen.width/2,l.position.y=198,l.scale.set(1),l.anchor.x=.5,l.alpha=0;var d=new Sprite(TextureCache[i.lastlight.img]);d.position.x=this.app.screen.width/2,d.position.y=this.app.screen.height/2-560,d.anchor.x=.5,d.alpha=0;var g=new PIXI.Text("制作",r);g.position.x=this.app.screen.width/2,g.position.y=this.app.screen.height-245,g.scale.set(1),g.anchor.x=.5;var c=new PIXI.Text("嘿咙  米粒  大胜胜  渠大大  小威子  小小庄",r);c.position.x=this.app.screen.width/2,c.position.y=this.app.screen.height-206,c.scale.set(1),c.anchor.x=.5;var m=new PIXI.Text("敏小素  冬眠的熊  ONCE_YY99",r);m.position.x=this.app.screen.width/2,m.position.y=this.app.screen.height-165,m.scale.set(1),m.anchor.x=.5;var u=new TWEEN.Tween({y:this.app.screen.height}).to({y:this.app.screen.height/2-268},5e3).onUpdate(function(t){e.setTransform(0,t.y)}).onComplete(function(){x.start(),y.start()}).start(),y=new TWEEN.Tween({alpha:0}).to({alpha:1},1500).onUpdate(function(t){l.alpha=t.alpha}).onComplete(function(){w.start()}),x=new TWEEN.Tween({alpha:0}).to({alpha:[1,0]},2e3).onUpdate(function(t){d.alpha=t.alpha}).interpolation(TWEEN.Interpolation.Bezier).repeat(1/0),w=new TWEEN.Tween({alpha:0}).to({alpha:1},1e3).onUpdate(function(t){o.alpha=t.alpha});o.addChild(g,c,m),a.addChild(d),e.addChild(s,h,p,l),t.addChild(e,o),this.other.addChild(t,a),this.animateGroup=[u]}}};init();